{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":224},"end":{"line":8,"column":33,"index":257}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":258},"end":{"line":9,"column":69,"index":327}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useWindShelter - React Hook for Wind Shelter Orientation Recommendation\n   *\n   * Custom hook for calling the wind shelter API endpoint.\n   * Recommends RV orientation based on local ridge terrain and wind conditions.\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useWindShelter\", {\n    enumerable: true,\n    get: function () {\n      return useWindShelter;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _expoVirtualEnv = require(_dependencyMap[2], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_API_BASE || 'http://localhost:8000';\n\n  // Type-safe interfaces matching API models\n\n  /**\n   * Hook for wind shelter orientation recommendation\n   *\n   * Usage:\n   * ```typescript\n   * const { estimate, loading, error, result } = useWindShelter();\n   *\n   * await estimate({\n   *   predominant_dir_deg: 270, // Wind from west\n   *   gust_mph: 35,\n   *   local_ridges: [\n   *     { bearing_deg: 90, strength: 'high', name: 'Rock formation' }\n   *   ],\n   * });\n   *\n   * if (result?.is_premium_locked) {\n   *   // Show paywall modal\n   * } else if (result?.recommended_bearing_deg !== undefined) {\n   *   // Display orientation recommendation\n   * }\n   * ```\n   */\n  var useWindShelter = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var estimate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Retrieve subscription ID from AsyncStorage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            try {\n              subscriptionId = yield AsyncStorage.default.getItem('subscription_id');\n            } catch (e) {\n              console.log('Could not retrieve subscription ID from storage');\n            }\n          }\n\n          // Call API endpoint for wind shelter recommendation\n          var response = yield fetch(`${API_BASE}/api/pro/wind-shelter/orientation`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              ...request,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            // Try to parse error detail from response\n            var errorDetail = `HTTP ${response.status}`;\n            try {\n              var errorData = yield response.json();\n              if (errorData.detail) {\n                errorDetail = errorData.detail;\n              }\n            } catch {\n              // If response isn't JSON, use status message\n              errorDetail = response.statusText || `HTTP ${response.status}`;\n            }\n            throw new Error(errorDetail);\n          }\n          var data = yield response.json();\n\n          // Detect premium-locked response\n          if (data.is_premium_locked && data.premium_message) {\n            setError(data.premium_message);\n            setResult(data);\n            setLoading(false);\n            return data;\n          }\n\n          // Success\n          setResult(data);\n          setLoading(false);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error';\n          console.error('Error in useWindShelter:', errorMessage);\n          setError(errorMessage);\n          setLoading(false);\n          return null;\n        }\n      });\n      return function estimate(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      estimate,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n  _s(useWindShelter, \"0rJtg/E9+fiowe8eKNooMN/xlkg=\");\n});","lineCount":152,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,0,6,0],[11,2,1,0,"Object"],[11,8,1,0],[11,9,1,0,"defineProperty"],[11,23,1,0],[11,24,1,0,"exports"],[11,31,1,0],[12,4,1,0,"value"],[12,9,1,0],[13,2,1,0],[14,2,1,0],[14,11,1,0,"_interopDefault"],[14,27,1,0,"e"],[14,28,1,0],[15,4,1,0],[15,11,1,0,"e"],[15,12,1,0],[15,16,1,0,"e"],[15,17,1,0],[15,18,1,0,"__esModule"],[15,28,1,0],[15,31,1,0,"e"],[15,32,1,0],[16,6,1,0,"default"],[16,13,1,0],[16,15,1,0,"e"],[17,4,1,0],[18,2,1,0],[19,2,68,0,"Object"],[19,8,68,0],[19,9,68,0,"defineProperty"],[19,23,68,0],[19,24,68,0,"exports"],[19,31,68,0],[20,4,68,0,"enumerable"],[20,14,68,0],[21,4,68,0,"get"],[21,7,68,0],[21,18,68,0,"get"],[21,19,68,0],[22,6,68,0],[22,13,68,0,"useWindShelter"],[22,27,68,0],[23,4,68,0],[24,2,68,0],[25,2,152,2],[25,6,152,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,42,152,2],[25,45,152,2,"require"],[25,52,152,2],[25,53,152,2,"_dependencyMap"],[25,67,152,2],[26,2,152,2],[26,6,152,2,"_asyncToGenerator"],[26,23,152,2],[26,26,152,2,"_interopDefault"],[26,41,152,2],[26,42,152,2,"_babelRuntimeHelpersAsyncToGenerator"],[26,78,152,2],[27,2,152,2],[27,6,152,2,"_babelRuntimeHelpersSlicedToArray"],[27,39,152,2],[27,42,152,2,"require"],[27,49,152,2],[27,50,152,2,"_dependencyMap"],[27,64,152,2],[28,2,152,2],[28,6,152,2,"_slicedToArray"],[28,20,152,2],[28,23,152,2,"_interopDefault"],[28,38,152,2],[28,39,152,2,"_babelRuntimeHelpersSlicedToArray"],[28,72,152,2],[29,2,152,2],[29,6,152,2,"_expoVirtualEnv"],[29,21,152,2],[29,24,152,2,"require"],[29,31,152,2],[29,32,152,2,"_dependencyMap"],[29,46,152,2],[30,2,8,0],[30,6,8,0,"_react"],[30,12,8,0],[30,15,8,0,"require"],[30,22,8,0],[30,23,8,0,"_dependencyMap"],[30,37,8,0],[31,2,9,0],[31,6,9,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,9,0],[31,45,9,0,"require"],[31,52,9,0],[31,53,9,0,"_dependencyMap"],[31,67,9,0],[32,2,9,0],[32,6,9,0,"AsyncStorage"],[32,18,9,0],[32,21,9,0,"_interopDefault"],[32,36,9,0],[32,37,9,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,9,0],[33,2,11,0],[33,6,11,6,"API_BASE"],[33,14,11,14],[33,17,11,17,"_expoVirtualEnv"],[33,32,11,17],[33,33,11,17,"env"],[33,36,11,17],[33,37,11,17,"EXPO_PUBLIC_API_BASE"],[33,57,11,17],[33,61,11,53],[33,84,11,76],[35,2,13,0],[37,2,46,0],[38,0,47,0],[39,0,48,0],[40,0,49,0],[41,0,50,0],[42,0,51,0],[43,0,52,0],[44,0,53,0],[45,0,54,0],[46,0,55,0],[47,0,56,0],[48,0,57,0],[49,0,58,0],[50,0,59,0],[51,0,60,0],[52,0,61,0],[53,0,62,0],[54,0,63,0],[55,0,64,0],[56,0,65,0],[57,0,66,0],[58,0,67,0],[59,2,68,7],[59,6,68,13,"useWindShelter"],[59,20,68,27],[59,23,68,30,"useWindShelter"],[59,24,68,30],[59,29,68,58],[60,4,68,58,"_s"],[60,6,68,58],[61,4,69,2],[61,8,69,2,"_useState"],[61,17,69,2],[61,20,69,32],[61,24,69,32,"useState"],[61,30,69,40],[61,31,69,40,"useState"],[61,39,69,40],[61,41,69,41],[61,46,69,46],[61,47,69,47],[62,6,69,47,"_useState2"],[62,16,69,47],[62,23,69,47,"_slicedToArray"],[62,37,69,47],[62,38,69,47,"default"],[62,45,69,47],[62,47,69,47,"_useState"],[62,56,69,47],[63,6,69,9,"loading"],[63,13,69,16],[63,16,69,16,"_useState2"],[63,26,69,16],[64,6,69,18,"setLoading"],[64,16,69,28],[64,19,69,28,"_useState2"],[64,29,69,28],[65,4,70,2],[65,8,70,2,"_useState3"],[65,18,70,2],[65,21,70,28],[65,25,70,28,"useState"],[65,31,70,36],[65,32,70,36,"useState"],[65,40,70,36],[65,42,70,52],[65,46,70,56],[65,47,70,57],[66,6,70,57,"_useState4"],[66,16,70,57],[66,23,70,57,"_slicedToArray"],[66,37,70,57],[66,38,70,57,"default"],[66,45,70,57],[66,47,70,57,"_useState3"],[66,57,70,57],[67,6,70,9,"error"],[67,11,70,14],[67,14,70,14,"_useState4"],[67,24,70,14],[68,6,70,16,"setError"],[68,14,70,24],[68,17,70,24,"_useState4"],[68,27,70,24],[69,4,71,2],[69,8,71,2,"_useState5"],[69,18,71,2],[69,21,71,30],[69,25,71,30,"useState"],[69,31,71,38],[69,32,71,38,"useState"],[69,40,71,38],[69,42,71,67],[69,46,71,71],[69,47,71,72],[70,6,71,72,"_useState6"],[70,16,71,72],[70,23,71,72,"_slicedToArray"],[70,37,71,72],[70,38,71,72,"default"],[70,45,71,72],[70,47,71,72,"_useState5"],[70,57,71,72],[71,6,71,9,"result"],[71,12,71,15],[71,15,71,15,"_useState6"],[71,25,71,15],[72,6,71,17,"setResult"],[72,15,71,26],[72,18,71,26,"_useState6"],[72,28,71,26],[73,4,73,2],[73,8,73,8,"estimate"],[73,16,73,16],[74,6,73,16],[74,10,73,16,"_ref"],[74,14,73,16],[74,21,73,16,"_asyncToGenerator"],[74,38,73,16],[74,39,73,16,"default"],[74,46,73,16],[74,48,73,19],[74,59,74,4,"request"],[74,66,74,31],[74,68,75,44],[75,8,76,4,"setLoading"],[75,18,76,14],[75,19,76,15],[75,23,76,19],[75,24,76,20],[76,8,77,4,"setError"],[76,16,77,12],[76,17,77,13],[76,21,77,17],[76,22,77,18],[77,8,79,4],[77,12,79,8],[78,10,80,6],[79,10,81,6],[79,14,81,10,"subscriptionId"],[79,28,81,24],[79,31,81,27,"request"],[79,38,81,34],[79,39,81,35,"subscription_id"],[79,54,81,50],[80,10,82,6],[80,14,82,10],[80,15,82,11,"subscriptionId"],[80,29,82,25],[80,31,82,27],[81,12,83,8],[81,16,83,12],[82,14,84,10,"subscriptionId"],[82,28,84,24],[82,37,84,33,"AsyncStorage"],[82,49,84,45],[82,50,84,45,"default"],[82,57,84,45],[82,58,84,46,"getItem"],[82,65,84,53],[82,66,84,54],[82,83,84,71],[82,84,84,72],[83,12,85,8],[83,13,85,9],[83,14,85,10],[83,21,85,17,"e"],[83,22,85,18],[83,24,85,20],[84,14,86,10,"console"],[84,21,86,17],[84,22,86,18,"log"],[84,25,86,21],[84,26,86,22],[84,75,86,71],[84,76,86,72],[85,12,87,8],[86,10,88,6],[88,10,90,6],[89,10,91,6],[89,14,91,12,"response"],[89,22,91,20],[89,31,91,29,"fetch"],[89,36,91,34],[89,37,91,35],[89,40,91,38,"API_BASE"],[89,48,91,46],[89,83,91,81],[89,85,91,83],[90,12,92,8,"method"],[90,18,92,14],[90,20,92,16],[90,26,92,22],[91,12,93,8,"headers"],[91,19,93,15],[91,21,93,17],[92,14,94,10],[92,28,94,24],[92,30,94,26],[93,12,95,8],[93,13,95,9],[94,12,96,8,"body"],[94,16,96,12],[94,18,96,14,"JSON"],[94,22,96,18],[94,23,96,19,"stringify"],[94,32,96,28],[94,33,96,29],[95,14,97,10],[95,17,97,13,"request"],[95,24,97,20],[96,14,98,10,"subscription_id"],[96,29,98,25],[96,31,98,27,"subscriptionId"],[97,12,99,8],[97,13,99,9],[98,10,100,6],[98,11,100,7],[98,12,100,8],[99,10,102,6],[99,14,102,10],[99,15,102,11,"response"],[99,23,102,19],[99,24,102,20,"ok"],[99,26,102,22],[99,28,102,24],[100,12,103,8],[101,12,104,8],[101,16,104,12,"errorDetail"],[101,27,104,23],[101,30,104,26],[101,38,104,34,"response"],[101,46,104,42],[101,47,104,43,"status"],[101,53,104,49],[101,55,104,51],[102,12,105,8],[102,16,105,12],[103,14,106,10],[103,18,106,16,"errorData"],[103,27,106,25],[103,36,106,34,"response"],[103,44,106,42],[103,45,106,43,"json"],[103,49,106,47],[103,50,106,48],[103,51,106,49],[104,14,107,10],[104,18,107,14,"errorData"],[104,27,107,23],[104,28,107,24,"detail"],[104,34,107,30],[104,36,107,32],[105,16,108,12,"errorDetail"],[105,27,108,23],[105,30,108,26,"errorData"],[105,39,108,35],[105,40,108,36,"detail"],[105,46,108,42],[106,14,109,10],[107,12,110,8],[107,13,110,9],[107,14,110,10],[107,20,110,16],[108,14,111,10],[109,14,112,10,"errorDetail"],[109,25,112,21],[109,28,112,24,"response"],[109,36,112,32],[109,37,112,33,"statusText"],[109,47,112,43],[109,51,112,47],[109,59,112,55,"response"],[109,67,112,63],[109,68,112,64,"status"],[109,74,112,70],[109,76,112,72],[110,12,113,8],[111,12,114,8],[111,18,114,14],[111,22,114,18,"Error"],[111,27,114,23],[111,28,114,24,"errorDetail"],[111,39,114,35],[111,40,114,36],[112,10,115,6],[113,10,117,6],[113,14,117,12,"data"],[113,18,117,37],[113,27,117,46,"response"],[113,35,117,54],[113,36,117,55,"json"],[113,40,117,59],[113,41,117,60],[113,42,117,61],[115,10,119,6],[116,10,120,6],[116,14,120,10,"data"],[116,18,120,14],[116,19,120,15,"is_premium_locked"],[116,36,120,32],[116,40,120,36,"data"],[116,44,120,40],[116,45,120,41,"premium_message"],[116,60,120,56],[116,62,120,58],[117,12,121,8,"setError"],[117,20,121,16],[117,21,121,17,"data"],[117,25,121,21],[117,26,121,22,"premium_message"],[117,41,121,37],[117,42,121,38],[118,12,122,8,"setResult"],[118,21,122,17],[118,22,122,18,"data"],[118,26,122,22],[118,27,122,23],[119,12,123,8,"setLoading"],[119,22,123,18],[119,23,123,19],[119,28,123,24],[119,29,123,25],[120,12,124,8],[120,19,124,15,"data"],[120,23,124,19],[121,10,125,6],[123,10,127,6],[124,10,128,6,"setResult"],[124,19,128,15],[124,20,128,16,"data"],[124,24,128,20],[124,25,128,21],[125,10,129,6,"setLoading"],[125,20,129,16],[125,21,129,17],[125,26,129,22],[125,27,129,23],[126,10,130,6],[126,17,130,13,"data"],[126,21,130,17],[127,8,131,4],[127,9,131,5],[127,10,131,6],[127,17,131,13,"err"],[127,20,131,16],[127,22,131,18],[128,10,132,6],[128,14,132,12,"errorMessage"],[128,26,132,24],[128,29,132,27,"err"],[128,32,132,30],[128,44,132,42,"Error"],[128,49,132,47],[128,52,132,50,"err"],[128,55,132,53],[128,56,132,54,"message"],[128,63,132,61],[128,66,132,64],[128,81,132,79],[129,10,133,6,"console"],[129,17,133,13],[129,18,133,14,"error"],[129,23,133,19],[129,24,133,20],[129,50,133,46],[129,52,133,48,"errorMessage"],[129,64,133,60],[129,65,133,61],[130,10,134,6,"setError"],[130,18,134,14],[130,19,134,15,"errorMessage"],[130,31,134,27],[130,32,134,28],[131,10,135,6,"setLoading"],[131,20,135,16],[131,21,135,17],[131,26,135,22],[131,27,135,23],[132,10,136,6],[132,17,136,13],[132,21,136,17],[133,8,137,4],[134,6,138,2],[134,7,138,3],[135,6,138,3],[135,22,73,8,"estimate"],[135,30,73,16,"estimate"],[135,31,73,16,"_x"],[135,33,73,16],[136,8,73,16],[136,15,73,16,"_ref"],[136,19,73,16],[136,20,73,16,"apply"],[136,25,73,16],[136,32,73,16,"arguments"],[136,41,73,16],[137,6,73,16],[138,4,73,16],[138,7,138,3],[139,4,140,2],[139,8,140,8,"clearResult"],[139,19,140,19],[139,22,140,22,"clearResult"],[139,23,140,22],[139,28,140,28],[140,6,141,4,"setResult"],[140,15,141,13],[140,16,141,14],[140,20,141,18],[140,21,141,19],[141,6,142,4,"setError"],[141,14,142,12],[141,15,142,13],[141,19,142,17],[141,20,142,18],[142,4,143,2],[142,5,143,3],[143,4,145,2],[143,11,145,9],[144,6,146,4,"estimate"],[144,14,146,12],[145,6,147,4,"loading"],[145,13,147,11],[146,6,148,4,"error"],[146,11,148,9],[147,6,149,4,"result"],[147,12,149,10],[148,6,150,4,"clearResult"],[149,4,151,2],[149,5,151,3],[150,2,152,0],[150,3,152,1],[151,2,152,2,"_s"],[151,4,152,2],[151,5,68,13,"useWindShelter"],[151,19,68,27],[152,0,68,27],[152,3]],"functionMap":{"names":["<global>","useWindShelter","estimate","clearResult"],"mappings":"AAA;8BCmE;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}