{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSolarForecast\", {\n    enumerable: true,\n    get: function () {\n      return useSolarForecast;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _apiConfig = require(_dependencyMap[3], \"../apiConfig\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for forecasting daily solar energy generation\n   * \n   * Features:\n   * - Premium-gated: requires active Boondocking Pro subscription\n   * - Pure deterministic calculations\n   * - Accounts for latitude, season, cloud cover, and shade\n   * - Returns Wh/day estimates for multi-day forecasts\n   * - Handles paywall gracefully\n   * \n   * Usage:\n   * ```\n   * const { forecast, loading, result, error } = useSolarForecast();\n   * \n   * const forecast_data = await forecast({\n   *   lat: 34.05,\n   *   lon: -111.03,\n   *   date_range: [\"2026-01-20\", \"2026-01-21\"],\n   *   panel_watts: 400,\n   *   shade_pct: 15,\n   *   cloud_cover: [10, 50],\n   * });\n   * ```\n   */\n  var useSolarForecast = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var forecast = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/solar-forecast`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              lat: request.lat,\n              lon: request.lon,\n              date_range: request.date_range,\n              panel_watts: request.panel_watts,\n              shade_pct: request.shade_pct,\n              cloud_cover: request.cloud_cover,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires Boondocking Pro. Upgrade to unlock.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error forecasting solar energy';\n          setError(errorMessage);\n          console.error('[SolarForecast] Forecast error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function forecast(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      forecast,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n  _s(useSolarForecast, \"0rJtg/E9+fiowe8eKNooMN/xlkg=\");\n});","lineCount":128,"map":[[13,2,57,0,"Object"],[13,8,57,0],[13,9,57,0,"defineProperty"],[13,23,57,0],[13,24,57,0,"exports"],[13,31,57,0],[14,4,57,0,"enumerable"],[14,14,57,0],[15,4,57,0,"get"],[15,7,57,0],[15,18,57,0,"get"],[15,19,57,0],[16,6,57,0],[16,13,57,0,"useSolarForecast"],[16,29,57,0],[17,4,57,0],[18,2,57,0],[19,2,134,2],[19,6,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,134,2],[19,45,134,2,"require"],[19,52,134,2],[19,53,134,2,"_dependencyMap"],[19,67,134,2],[20,2,134,2],[20,6,134,2,"_asyncToGenerator"],[20,23,134,2],[20,26,134,2,"_interopDefault"],[20,41,134,2],[20,42,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,134,2],[21,2,134,2],[21,6,134,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,134,2],[21,42,134,2,"require"],[21,49,134,2],[21,50,134,2,"_dependencyMap"],[21,64,134,2],[22,2,134,2],[22,6,134,2,"_slicedToArray"],[22,20,134,2],[22,23,134,2,"_interopDefault"],[22,38,134,2],[22,39,134,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,134,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,2,0],[24,6,2,0,"_apiConfig"],[24,16,2,0],[24,19,2,0,"require"],[24,26,2,0],[24,27,2,0,"_dependencyMap"],[24,41,2,0],[25,2,3,0],[25,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,3,0],[25,45,3,0,"require"],[25,52,3,0],[25,53,3,0,"_dependencyMap"],[25,67,3,0],[26,2,3,0],[26,6,3,0,"AsyncStorage"],[26,18,3,0],[26,21,3,0,"_interopDefault"],[26,36,3,0],[26,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,3,0],[27,2,33,0],[28,0,34,0],[29,0,35,0],[30,0,36,0],[31,0,37,0],[32,0,38,0],[33,0,39,0],[34,0,40,0],[35,0,41,0],[36,0,42,0],[37,0,43,0],[38,0,44,0],[39,0,45,0],[40,0,46,0],[41,0,47,0],[42,0,48,0],[43,0,49,0],[44,0,50,0],[45,0,51,0],[46,0,52,0],[47,0,53,0],[48,0,54,0],[49,0,55,0],[50,0,56,0],[51,2,57,7],[51,6,57,13,"useSolarForecast"],[51,22,57,29],[51,25,57,32,"useSolarForecast"],[51,26,57,32],[51,31,57,62],[52,4,57,62,"_s"],[52,6,57,62],[53,4,58,2],[53,8,58,2,"_useState"],[53,17,58,2],[53,20,58,32],[53,24,58,32,"useState"],[53,30,58,40],[53,31,58,40,"useState"],[53,39,58,40],[53,41,58,41],[53,46,58,46],[53,47,58,47],[54,6,58,47,"_useState2"],[54,16,58,47],[54,23,58,47,"_slicedToArray"],[54,37,58,47],[54,38,58,47,"default"],[54,45,58,47],[54,47,58,47,"_useState"],[54,56,58,47],[55,6,58,9,"loading"],[55,13,58,16],[55,16,58,16,"_useState2"],[55,26,58,16],[56,6,58,18,"setLoading"],[56,16,58,28],[56,19,58,28,"_useState2"],[56,29,58,28],[57,4,59,2],[57,8,59,2,"_useState3"],[57,18,59,2],[57,21,59,28],[57,25,59,28,"useState"],[57,31,59,36],[57,32,59,36,"useState"],[57,40,59,36],[57,42,59,52],[57,46,59,56],[57,47,59,57],[58,6,59,57,"_useState4"],[58,16,59,57],[58,23,59,57,"_slicedToArray"],[58,37,59,57],[58,38,59,57,"default"],[58,45,59,57],[58,47,59,57,"_useState3"],[58,57,59,57],[59,6,59,9,"error"],[59,11,59,14],[59,14,59,14,"_useState4"],[59,24,59,14],[60,6,59,16,"setError"],[60,14,59,24],[60,17,59,24,"_useState4"],[60,27,59,24],[61,4,60,2],[61,8,60,2,"_useState5"],[61,18,60,2],[61,21,60,30],[61,25,60,30,"useState"],[61,31,60,38],[61,32,60,38,"useState"],[61,40,60,38],[61,42,60,69],[61,46,60,73],[61,47,60,74],[62,6,60,74,"_useState6"],[62,16,60,74],[62,23,60,74,"_slicedToArray"],[62,37,60,74],[62,38,60,74,"default"],[62,45,60,74],[62,47,60,74,"_useState5"],[62,57,60,74],[63,6,60,9,"result"],[63,12,60,15],[63,15,60,15,"_useState6"],[63,25,60,15],[64,6,60,17,"setResult"],[64,15,60,26],[64,18,60,26,"_useState6"],[64,28,60,26],[65,4,62,2],[65,8,62,8,"forecast"],[65,16,62,16],[66,6,62,16],[66,10,62,16,"_ref"],[66,14,62,16],[66,21,62,16,"_asyncToGenerator"],[66,38,62,16],[66,39,62,16,"default"],[66,46,62,16],[66,48,62,19],[66,59,63,4,"request"],[66,66,63,33],[66,68,64,39],[67,8,65,4,"setLoading"],[67,18,65,14],[67,19,65,15],[67,23,65,19],[67,24,65,20],[68,8,66,4,"setError"],[68,16,66,12],[68,17,66,13],[68,21,66,17],[68,22,66,18],[69,8,68,4],[69,12,68,8],[70,10,69,6],[71,10,70,6],[71,14,70,10,"subscriptionId"],[71,28,70,24],[71,31,70,27,"request"],[71,38,70,34],[71,39,70,35,"subscription_id"],[71,54,70,50],[72,10,71,6],[72,14,71,10],[72,15,71,11,"subscriptionId"],[72,29,71,25],[72,31,71,27],[73,12,72,8,"subscriptionId"],[73,26,72,22],[73,35,72,31,"AsyncStorage"],[73,47,72,43],[73,48,72,43,"default"],[73,55,72,43],[73,56,72,44,"getItem"],[73,63,72,51],[73,64,72,52],[73,91,72,79],[73,92,72,80],[74,10,73,6],[75,10,75,6],[75,14,75,12,"response"],[75,22,75,20],[75,31,75,29,"fetch"],[75,36,75,34],[75,37,75,35],[75,40,75,38,"API_BASE"],[75,50,75,46],[75,51,75,46,"API_BASE"],[75,59,75,46],[75,84,75,71],[75,86,75,73],[76,12,76,8,"method"],[76,18,76,14],[76,20,76,16],[76,26,76,22],[77,12,77,8,"headers"],[77,19,77,15],[77,21,77,17],[78,14,78,10],[78,28,78,24],[78,30,78,26],[79,12,79,8],[79,13,79,9],[80,12,80,8,"body"],[80,16,80,12],[80,18,80,14,"JSON"],[80,22,80,18],[80,23,80,19,"stringify"],[80,32,80,28],[80,33,80,29],[81,14,81,10,"lat"],[81,17,81,13],[81,19,81,15,"request"],[81,26,81,22],[81,27,81,23,"lat"],[81,30,81,26],[82,14,82,10,"lon"],[82,17,82,13],[82,19,82,15,"request"],[82,26,82,22],[82,27,82,23,"lon"],[82,30,82,26],[83,14,83,10,"date_range"],[83,24,83,20],[83,26,83,22,"request"],[83,33,83,29],[83,34,83,30,"date_range"],[83,44,83,40],[84,14,84,10,"panel_watts"],[84,25,84,21],[84,27,84,23,"request"],[84,34,84,30],[84,35,84,31,"panel_watts"],[84,46,84,42],[85,14,85,10,"shade_pct"],[85,23,85,19],[85,25,85,21,"request"],[85,32,85,28],[85,33,85,29,"shade_pct"],[85,42,85,38],[86,14,86,10,"cloud_cover"],[86,25,86,21],[86,27,86,23,"request"],[86,34,86,30],[86,35,86,31,"cloud_cover"],[86,46,86,42],[87,14,87,10,"subscription_id"],[87,29,87,25],[87,31,87,27,"subscriptionId"],[88,12,88,8],[88,13,88,9],[89,10,89,6],[89,11,89,7],[89,12,89,8],[90,10,91,6],[90,14,91,10],[90,15,91,11,"response"],[90,23,91,19],[90,24,91,20,"ok"],[90,26,91,22],[90,28,91,24],[91,12,92,8],[91,16,92,14,"errorData"],[91,25,92,23],[91,34,92,32,"response"],[91,42,92,40],[91,43,92,41,"json"],[91,47,92,45],[91,48,92,46],[91,49,92,47],[92,12,93,8],[92,18,93,14],[92,22,93,18,"Error"],[92,27,93,23],[92,28,94,10,"errorData"],[92,37,94,19],[92,38,94,20,"detail"],[92,44,94,26],[92,48,94,30],[92,62,94,44,"response"],[92,70,94,52],[92,71,94,53,"status"],[92,77,94,59],[92,79,95,8],[92,80,95,9],[93,10,96,6],[94,10,98,6],[94,14,98,12,"data"],[94,18,98,39],[94,27,98,48,"response"],[94,35,98,56],[94,36,98,57,"json"],[94,40,98,61],[94,41,98,62],[94,42,98,63],[96,10,100,6],[97,10,101,6],[97,14,101,10,"data"],[97,18,101,14],[97,19,101,15,"is_premium_locked"],[97,36,101,32],[97,38,101,34],[98,12,102,8,"setError"],[98,20,102,16],[98,21,103,10,"data"],[98,25,103,14],[98,26,103,15,"premium_message"],[98,41,103,30],[98,45,104,10],[98,104,105,8],[98,105,105,9],[99,10,106,6],[100,10,108,6,"setResult"],[100,19,108,15],[100,20,108,16,"data"],[100,24,108,20],[100,25,108,21],[101,10,109,6],[101,17,109,13,"data"],[101,21,109,17],[102,8,110,4],[102,9,110,5],[102,10,110,6],[102,17,110,13,"err"],[102,20,110,16],[102,22,110,18],[103,10,111,6],[103,14,111,12,"errorMessage"],[103,26,111,24],[103,29,112,8,"err"],[103,32,112,11],[103,44,112,23,"Error"],[103,49,112,28],[103,52,112,31,"err"],[103,55,112,34],[103,56,112,35,"message"],[103,63,112,42],[103,66,112,45],[103,106,112,85],[104,10,113,6,"setError"],[104,18,113,14],[104,19,113,15,"errorMessage"],[104,31,113,27],[104,32,113,28],[105,10,114,6,"console"],[105,17,114,13],[105,18,114,14,"error"],[105,23,114,19],[105,24,114,20],[105,57,114,53],[105,59,114,55,"errorMessage"],[105,71,114,67],[105,72,114,68],[106,10,116,6],[106,16,116,12,"err"],[106,19,116,15],[107,8,117,4],[107,9,117,5],[107,18,117,14],[108,10,118,6,"setLoading"],[108,20,118,16],[108,21,118,17],[108,26,118,22],[108,27,118,23],[109,8,119,4],[110,6,120,2],[110,7,120,3],[111,6,120,3],[111,22,62,8,"forecast"],[111,30,62,16,"forecast"],[111,31,62,16,"_x"],[111,33,62,16],[112,8,62,16],[112,15,62,16,"_ref"],[112,19,62,16],[112,20,62,16,"apply"],[112,25,62,16],[112,32,62,16,"arguments"],[112,41,62,16],[113,6,62,16],[114,4,62,16],[114,7,120,3],[115,4,122,2],[115,8,122,8,"clearResult"],[115,19,122,19],[115,22,122,22,"clearResult"],[115,23,122,22],[115,28,122,28],[116,6,123,4,"setResult"],[116,15,123,13],[116,16,123,14],[116,20,123,18],[116,21,123,19],[117,6,124,4,"setError"],[117,14,124,12],[117,15,124,13],[117,19,124,17],[117,20,124,18],[118,4,125,2],[118,5,125,3],[119,4,127,2],[119,11,127,9],[120,6,128,4,"forecast"],[120,14,128,12],[121,6,129,4,"loading"],[121,13,129,11],[122,6,130,4,"error"],[122,11,130,9],[123,6,131,4,"result"],[123,12,131,10],[124,6,132,4,"clearResult"],[125,4,133,2],[125,5,133,3],[126,2,134,0],[126,3,134,1],[127,2,134,2,"_s"],[127,4,134,2],[127,5,57,13,"useSolarForecast"],[127,21,57,29],[128,0,57,29],[128,3]],"functionMap":{"names":["<global>","useSolarForecast","forecast","clearResult"],"mappings":"AAA;gCCwD;mBCK;GD0D;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}