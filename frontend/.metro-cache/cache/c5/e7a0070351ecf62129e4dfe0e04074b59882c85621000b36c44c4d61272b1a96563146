{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":196},"end":{"line":8,"column":33,"index":229}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":230},"end":{"line":9,"column":69,"index":299}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useWaterBudget\",{enumerable:!0,get:function(){return n}});var t,e=r(d[0]),s=r(d[1]),o=(t=s)&&t.__esModule?t:{default:t};const n=()=>{const[t,s]=(0,e.useState)(!1),[n,u]=(0,e.useState)(null),[l,c]=(0,e.useState)(null);return{estimate:async t=>{s(!0),u(null);try{let e=t.subscription_id;if(!e)try{e=await o.default.getItem('subscription_id')}catch(t){console.log('Could not retrieve subscription ID from storage')}const n=await fetch(\"http://localhost:8000/api/pro/water-budget\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({...t,subscription_id:e})});if(!n.ok){let t=`HTTP ${n.status}`;try{const e=await n.json();e.detail&&(t=e.detail)}catch{t=n.statusText||`HTTP ${n.status}`}throw new Error(t)}const l=await n.json();return l.is_premium_locked&&l.premium_message?(u(l.premium_message),c(l),s(!1),l):(c(l),s(!1),l)}catch(t){const e=t instanceof Error?t.message:'Unknown error';return console.error('Error in useWaterBudget:',e),u(e),s(!1),null}},loading:t,error:n,result:l,clearResult:()=>{c(null),u(null)}}}});","lineCount":1,"map":[[1,92,67,0,"Object"],[1,99,67,0,"defineProperty"],[1,114,67,0,"_e"],[1,117,67,0],[1,135,67,0,"enumerable"],[1,147,67,0],[1,149,67,0,"get"],[1,153,67,0],[1,171,67,0,"useWaterBudget"],[1,172,67,0],[1,176,8,0],[1,180],[1,182,8,0,"_react"],[1,184,8,0,"r"],[1,186,8,0,"d"],[1,188,8,0],[1,192,9,0,"_reactNativeAsyncStorageAsyncStorage"],[1,194,9,0,"r"],[1,196,9,0,"d"],[1,198,9,0],[1,202,9,0,"AsyncStorage"],[1,205],[1,207,9,0,"_reactNativeAsyncStorageAsyncStorage"],[1,211],[1,238,11,0],[1,244,67,13,"useWaterBudget"],[1,246,67,30,"useWaterBudget"],[1,251,68,2],[1,257,68,9,"loading"],[1,259,68,18,"setLoading"],[1,263,68,32],[1,265,68,32,"useState"],[1,267,68,40,"useState"],[1,278,68,41],[1,282,69,9,"error"],[1,284,69,16,"setError"],[1,288,69,28],[1,290,69,28,"useState"],[1,292,69,36,"useState"],[1,302,69,52],[1,309,70,9,"result"],[1,311,70,17,"setResult"],[1,315,70,30],[1,317,70,30,"useState"],[1,319,70,38,"useState"],[1,329,70,67],[1,335,144,2],[1,341,144,9],[1,342,145,4,"estimate"],[1,351,72,19,"async"],[1,361,75,4,"setLoading"],[1,364,75,15],[1,367,76,4,"setError"],[1,369,76,13],[1,375,78,4],[1,379,80,6],[1,383,80,10,"subscriptionId"],[1,385,80,27,"request"],[1,387,80,35,"subscription_id"],[1,403,81,6],[1,407,81,11,"subscriptionId"],[1,409,82,8],[1,413,83,10,"subscriptionId"],[1,421,83,33,"AsyncStorage"],[1,423,83,45,"default"],[1,431,83,46,"getItem"],[1,439,83,54],[1,457,84,8],[1,458,84,10],[1,464,84,17,"e"],[1,467,85,10,"console"],[1,475,85,18,"log"],[1,479,85,22],[1,529,86,8],[1,530,90,6],[1,536,90,12,"response"],[1,544,90,29,"fetch"],[1,550,90,35],[1,595,90,71],[1,596,91,8,"method"],[1,603,91,16],[1,610,92,8,"headers"],[1,618,92,17],[1,619,93,10],[1,634,93,26],[1,654,95,8,"body"],[1,659,95,14,"JSON"],[1,664,95,19,"stringify"],[1,674,95,29],[1,678,96,13,"request"],[1,680,97,10,"subscription_id"],[1,696,97,27,"subscriptionId"],[1,702,101,6],[1,706,101,11,"response"],[1,708,101,20,"ok"],[1,711,101,24],[1,712,103,8],[1,716,103,12,"errorDetail"],[1,718,103,26],[1,726,103,34,"response"],[1,728,103,43,"status"],[1,737,104,8],[1,741,105,10],[1,747,105,16,"errorData"],[1,755,105,34,"response"],[1,757,105,43,"json"],[1,764,106,14,"errorData"],[1,766,106,24,"detail"],[1,775,107,12,"errorDetail"],[1,777,107,26,"errorData"],[1,779,107,36,"detail"],[1,786,109,8],[1,787,109,10],[1,793,111,10,"errorDetail"],[1,795,111,24,"response"],[1,797,111,33,"statusText"],[1,809,111,47],[1,817,111,55,"response"],[1,819,111,64,"status"],[1,827,112,8],[1,828,113,8],[1,834,113,14],[1,838,113,18,"Error"],[1,844,113,24,"errorDetail"],[1,846,114,6],[1,847,116,6],[1,853,116,12,"data"],[1,861,116,46,"response"],[1,863,116,55,"json"],[1,870,119,6],[1,877,119,10,"data"],[1,879,119,15,"is_premium_locked"],[1,898,119,36,"data"],[1,900,119,41,"premium_message"],[1,917,120,8,"setError"],[1,919,120,17,"data"],[1,921,120,22,"premium_message"],[1,938,121,8,"setResult"],[1,940,121,18,"data"],[1,943,122,8,"setLoading"],[1,946,122,19],[1,949,123,15,"data"],[1,953,127,6,"setResult"],[1,955,127,16,"data"],[1,958,128,6,"setLoading"],[1,961,128,17],[1,964,129,13,"data"],[1,966,130,4],[1,967,130,6],[1,973,130,13,"err"],[1,976,131,6],[1,982,131,12,"errorMessage"],[1,984,131,27,"err"],[1,997,131,42,"Error"],[1,1003,131,50,"err"],[1,1005,131,54,"message"],[1,1013,131,64],[1,1029,135,6],[1,1036,132,6,"console"],[1,1044,132,14,"error"],[1,1050,132,20],[1,1077,132,48,"errorMessage"],[1,1080,133,6,"setError"],[1,1082,133,15,"errorMessage"],[1,1085,134,6,"setLoading"],[1,1088,134,17],[1,1091,135,13],[1,1095,136,4],[1,1098,146,4,"loading"],[1,1108,147,4,"error"],[1,1116,148,4,"result"],[1,1125,149,4,"clearResult"],[1,1137,139,22,"clearResult"],[1,1142,140,4,"setResult"],[1,1144,140,14],[1,1150,141,4,"setError"],[1,1152,141,13],[1,1160,151,2],[1,1163]],"functionMap":{"names":["<global>","useWaterBudget","estimate","clearResult"],"mappings":"AAA;8BCkE;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}