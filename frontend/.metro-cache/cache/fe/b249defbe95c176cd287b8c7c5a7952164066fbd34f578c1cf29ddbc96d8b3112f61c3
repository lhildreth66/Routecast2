{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSolarForecast\", {\n    enumerable: true,\n    get: function () {\n      return useSolarForecast;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _apiConfig = require(_dependencyMap[3]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for forecasting daily solar energy generation\n   * \n   * Features:\n   * - Premium-gated: requires active Boondocking Pro subscription\n   * - Pure deterministic calculations\n   * - Accounts for latitude, season, cloud cover, and shade\n   * - Returns Wh/day estimates for multi-day forecasts\n   * - Handles paywall gracefully\n   * \n   * Usage:\n   * ```\n   * const { forecast, loading, result, error } = useSolarForecast();\n   * \n   * const forecast_data = await forecast({\n   *   lat: 34.05,\n   *   lon: -111.03,\n   *   date_range: [\"2026-01-20\", \"2026-01-21\"],\n   *   panel_watts: 400,\n   *   shade_pct: 15,\n   *   cloud_cover: [10, 50],\n   * });\n   * ```\n   */\n  var useSolarForecast = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var forecast = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/solar-forecast`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              lat: request.lat,\n              lon: request.lon,\n              date_range: request.date_range,\n              panel_watts: request.panel_watts,\n              shade_pct: request.shade_pct,\n              cloud_cover: request.cloud_cover,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires Boondocking Pro. Upgrade to unlock.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error forecasting solar energy';\n          setError(errorMessage);\n          console.error('[SolarForecast] Forecast error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function forecast(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      forecast,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":125,"map":[[12,2,57,0,"Object"],[12,8,57,0],[12,9,57,0,"defineProperty"],[12,23,57,0],[12,24,57,0,"exports"],[12,31,57,0],[13,4,57,0,"enumerable"],[13,14,57,0],[14,4,57,0,"get"],[14,7,57,0],[14,18,57,0,"get"],[14,19,57,0],[15,6,57,0],[15,13,57,0,"useSolarForecast"],[15,29,57,0],[16,4,57,0],[17,2,57,0],[18,2,134,2],[18,6,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,134,2],[18,45,134,2,"require"],[18,52,134,2],[18,53,134,2,"_dependencyMap"],[18,67,134,2],[19,2,134,2],[19,6,134,2,"_asyncToGenerator"],[19,23,134,2],[19,26,134,2,"_interopDefault"],[19,41,134,2],[19,42,134,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,134,2],[20,2,134,2],[20,6,134,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,134,2],[20,42,134,2,"require"],[20,49,134,2],[20,50,134,2,"_dependencyMap"],[20,64,134,2],[21,2,134,2],[21,6,134,2,"_slicedToArray"],[21,20,134,2],[21,23,134,2,"_interopDefault"],[21,38,134,2],[21,39,134,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,134,2],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_apiConfig"],[23,16,2,0],[23,19,2,0,"require"],[23,26,2,0],[23,27,2,0,"_dependencyMap"],[23,41,2,0],[24,2,3,0],[24,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,3,0],[24,45,3,0,"require"],[24,52,3,0],[24,53,3,0,"_dependencyMap"],[24,67,3,0],[25,2,3,0],[25,6,3,0,"AsyncStorage"],[25,18,3,0],[25,21,3,0,"_interopDefault"],[25,36,3,0],[25,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,3,0],[26,2,33,0],[27,0,34,0],[28,0,35,0],[29,0,36,0],[30,0,37,0],[31,0,38,0],[32,0,39,0],[33,0,40,0],[34,0,41,0],[35,0,42,0],[36,0,43,0],[37,0,44,0],[38,0,45,0],[39,0,46,0],[40,0,47,0],[41,0,48,0],[42,0,49,0],[43,0,50,0],[44,0,51,0],[45,0,52,0],[46,0,53,0],[47,0,54,0],[48,0,55,0],[49,0,56,0],[50,2,57,7],[50,6,57,13,"useSolarForecast"],[50,22,57,29],[50,25,57,32,"useSolarForecast"],[50,26,57,32],[50,31,57,62],[51,4,58,2],[51,8,58,2,"_useState"],[51,17,58,2],[51,20,58,32],[51,24,58,32,"useState"],[51,30,58,40],[51,31,58,40,"useState"],[51,39,58,40],[51,41,58,41],[51,46,58,46],[51,47,58,47],[52,6,58,47,"_useState2"],[52,16,58,47],[52,23,58,47,"_slicedToArray"],[52,37,58,47],[52,38,58,47,"default"],[52,45,58,47],[52,47,58,47,"_useState"],[52,56,58,47],[53,6,58,9,"loading"],[53,13,58,16],[53,16,58,16,"_useState2"],[53,26,58,16],[54,6,58,18,"setLoading"],[54,16,58,28],[54,19,58,28,"_useState2"],[54,29,58,28],[55,4,59,2],[55,8,59,2,"_useState3"],[55,18,59,2],[55,21,59,28],[55,25,59,28,"useState"],[55,31,59,36],[55,32,59,36,"useState"],[55,40,59,36],[55,42,59,52],[55,46,59,56],[55,47,59,57],[56,6,59,57,"_useState4"],[56,16,59,57],[56,23,59,57,"_slicedToArray"],[56,37,59,57],[56,38,59,57,"default"],[56,45,59,57],[56,47,59,57,"_useState3"],[56,57,59,57],[57,6,59,9,"error"],[57,11,59,14],[57,14,59,14,"_useState4"],[57,24,59,14],[58,6,59,16,"setError"],[58,14,59,24],[58,17,59,24,"_useState4"],[58,27,59,24],[59,4,60,2],[59,8,60,2,"_useState5"],[59,18,60,2],[59,21,60,30],[59,25,60,30,"useState"],[59,31,60,38],[59,32,60,38,"useState"],[59,40,60,38],[59,42,60,69],[59,46,60,73],[59,47,60,74],[60,6,60,74,"_useState6"],[60,16,60,74],[60,23,60,74,"_slicedToArray"],[60,37,60,74],[60,38,60,74,"default"],[60,45,60,74],[60,47,60,74,"_useState5"],[60,57,60,74],[61,6,60,9,"result"],[61,12,60,15],[61,15,60,15,"_useState6"],[61,25,60,15],[62,6,60,17,"setResult"],[62,15,60,26],[62,18,60,26,"_useState6"],[62,28,60,26],[63,4,62,2],[63,8,62,8,"forecast"],[63,16,62,16],[64,6,62,16],[64,10,62,16,"_ref"],[64,14,62,16],[64,21,62,16,"_asyncToGenerator"],[64,38,62,16],[64,39,62,16,"default"],[64,46,62,16],[64,48,62,19],[64,59,63,4,"request"],[64,66,63,33],[64,68,64,39],[65,8,65,4,"setLoading"],[65,18,65,14],[65,19,65,15],[65,23,65,19],[65,24,65,20],[66,8,66,4,"setError"],[66,16,66,12],[66,17,66,13],[66,21,66,17],[66,22,66,18],[67,8,68,4],[67,12,68,8],[68,10,69,6],[69,10,70,6],[69,14,70,10,"subscriptionId"],[69,28,70,24],[69,31,70,27,"request"],[69,38,70,34],[69,39,70,35,"subscription_id"],[69,54,70,50],[70,10,71,6],[70,14,71,10],[70,15,71,11,"subscriptionId"],[70,29,71,25],[70,31,71,27],[71,12,72,8,"subscriptionId"],[71,26,72,22],[71,35,72,31,"AsyncStorage"],[71,47,72,43],[71,48,72,43,"default"],[71,55,72,43],[71,56,72,44,"getItem"],[71,63,72,51],[71,64,72,52],[71,91,72,79],[71,92,72,80],[72,10,73,6],[73,10,75,6],[73,14,75,12,"response"],[73,22,75,20],[73,31,75,29,"fetch"],[73,36,75,34],[73,37,75,35],[73,40,75,38,"API_BASE"],[73,50,75,46],[73,51,75,46,"API_BASE"],[73,59,75,46],[73,84,75,71],[73,86,75,73],[74,12,76,8,"method"],[74,18,76,14],[74,20,76,16],[74,26,76,22],[75,12,77,8,"headers"],[75,19,77,15],[75,21,77,17],[76,14,78,10],[76,28,78,24],[76,30,78,26],[77,12,79,8],[77,13,79,9],[78,12,80,8,"body"],[78,16,80,12],[78,18,80,14,"JSON"],[78,22,80,18],[78,23,80,19,"stringify"],[78,32,80,28],[78,33,80,29],[79,14,81,10,"lat"],[79,17,81,13],[79,19,81,15,"request"],[79,26,81,22],[79,27,81,23,"lat"],[79,30,81,26],[80,14,82,10,"lon"],[80,17,82,13],[80,19,82,15,"request"],[80,26,82,22],[80,27,82,23,"lon"],[80,30,82,26],[81,14,83,10,"date_range"],[81,24,83,20],[81,26,83,22,"request"],[81,33,83,29],[81,34,83,30,"date_range"],[81,44,83,40],[82,14,84,10,"panel_watts"],[82,25,84,21],[82,27,84,23,"request"],[82,34,84,30],[82,35,84,31,"panel_watts"],[82,46,84,42],[83,14,85,10,"shade_pct"],[83,23,85,19],[83,25,85,21,"request"],[83,32,85,28],[83,33,85,29,"shade_pct"],[83,42,85,38],[84,14,86,10,"cloud_cover"],[84,25,86,21],[84,27,86,23,"request"],[84,34,86,30],[84,35,86,31,"cloud_cover"],[84,46,86,42],[85,14,87,10,"subscription_id"],[85,29,87,25],[85,31,87,27,"subscriptionId"],[86,12,88,8],[86,13,88,9],[87,10,89,6],[87,11,89,7],[87,12,89,8],[88,10,91,6],[88,14,91,10],[88,15,91,11,"response"],[88,23,91,19],[88,24,91,20,"ok"],[88,26,91,22],[88,28,91,24],[89,12,92,8],[89,16,92,14,"errorData"],[89,25,92,23],[89,34,92,32,"response"],[89,42,92,40],[89,43,92,41,"json"],[89,47,92,45],[89,48,92,46],[89,49,92,47],[90,12,93,8],[90,18,93,14],[90,22,93,18,"Error"],[90,27,93,23],[90,28,94,10,"errorData"],[90,37,94,19],[90,38,94,20,"detail"],[90,44,94,26],[90,48,94,30],[90,62,94,44,"response"],[90,70,94,52],[90,71,94,53,"status"],[90,77,94,59],[90,79,95,8],[90,80,95,9],[91,10,96,6],[92,10,98,6],[92,14,98,12,"data"],[92,18,98,39],[92,27,98,48,"response"],[92,35,98,56],[92,36,98,57,"json"],[92,40,98,61],[92,41,98,62],[92,42,98,63],[94,10,100,6],[95,10,101,6],[95,14,101,10,"data"],[95,18,101,14],[95,19,101,15,"is_premium_locked"],[95,36,101,32],[95,38,101,34],[96,12,102,8,"setError"],[96,20,102,16],[96,21,103,10,"data"],[96,25,103,14],[96,26,103,15,"premium_message"],[96,41,103,30],[96,45,104,10],[96,104,105,8],[96,105,105,9],[97,10,106,6],[98,10,108,6,"setResult"],[98,19,108,15],[98,20,108,16,"data"],[98,24,108,20],[98,25,108,21],[99,10,109,6],[99,17,109,13,"data"],[99,21,109,17],[100,8,110,4],[100,9,110,5],[100,10,110,6],[100,17,110,13,"err"],[100,20,110,16],[100,22,110,18],[101,10,111,6],[101,14,111,12,"errorMessage"],[101,26,111,24],[101,29,112,8,"err"],[101,32,112,11],[101,44,112,23,"Error"],[101,49,112,28],[101,52,112,31,"err"],[101,55,112,34],[101,56,112,35,"message"],[101,63,112,42],[101,66,112,45],[101,106,112,85],[102,10,113,6,"setError"],[102,18,113,14],[102,19,113,15,"errorMessage"],[102,31,113,27],[102,32,113,28],[103,10,114,6,"console"],[103,17,114,13],[103,18,114,14,"error"],[103,23,114,19],[103,24,114,20],[103,57,114,53],[103,59,114,55,"errorMessage"],[103,71,114,67],[103,72,114,68],[104,10,116,6],[104,16,116,12,"err"],[104,19,116,15],[105,8,117,4],[105,9,117,5],[105,18,117,14],[106,10,118,6,"setLoading"],[106,20,118,16],[106,21,118,17],[106,26,118,22],[106,27,118,23],[107,8,119,4],[108,6,120,2],[108,7,120,3],[109,6,120,3],[109,22,62,8,"forecast"],[109,30,62,16,"forecast"],[109,31,62,16,"_x"],[109,33,62,16],[110,8,62,16],[110,15,62,16,"_ref"],[110,19,62,16],[110,20,62,16,"apply"],[110,25,62,16],[110,32,62,16,"arguments"],[110,41,62,16],[111,6,62,16],[112,4,62,16],[112,7,120,3],[113,4,122,2],[113,8,122,8,"clearResult"],[113,19,122,19],[113,22,122,22,"clearResult"],[113,23,122,22],[113,28,122,28],[114,6,123,4,"setResult"],[114,15,123,13],[114,16,123,14],[114,20,123,18],[114,21,123,19],[115,6,124,4,"setError"],[115,14,124,12],[115,15,124,13],[115,19,124,17],[115,20,124,18],[116,4,125,2],[116,5,125,3],[117,4,127,2],[117,11,127,9],[118,6,128,4,"forecast"],[118,14,128,12],[119,6,129,4,"loading"],[119,13,129,11],[120,6,130,4,"error"],[120,11,130,9],[121,6,131,4,"result"],[121,12,131,10],[122,6,132,4,"clearResult"],[123,4,133,2],[123,5,133,3],[124,2,134,0],[124,3,134,1],[125,0,134,2],[125,3]],"functionMap":{"names":["<global>","useSolarForecast","forecast","clearResult"],"mappings":"AAA;gCCwD;mBCK;GD0D;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}