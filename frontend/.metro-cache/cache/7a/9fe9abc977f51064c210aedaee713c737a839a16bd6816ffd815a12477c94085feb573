{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":206},"end":{"line":8,"column":33,"index":239}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":240},"end":{"line":9,"column":69,"index":309}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * usePropaneUsage - React Hook for Propane Consumption Estimation\n   *\n   * Custom hook for calling the propane usage API endpoint and managing state.\n   * Follows the same pattern as useSolarForecast.\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"usePropaneUsage\", {\n    enumerable: true,\n    get: function () {\n      return usePropaneUsage;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _expoVirtualEnv = require(_dependencyMap[2], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_API_BASE || 'http://localhost:8000';\n\n  // Type-safe interfaces matching API models\n\n  /**\n   * Hook for propane usage estimation\n   *\n   * Usage:\n   * ```typescript\n   * const { estimate, loading, error, result } = usePropaneUsage();\n   *\n   * await estimate({\n   *   furnace_btu: 20000,\n   *   duty_cycle_pct: 50,\n   *   nights_temp_f: [35, 25, 45],\n   *   people: 2,\n   * });\n   *\n   * if (result?.is_premium_locked) {\n   *   // Show paywall modal\n   * } else if (result?.daily_lbs) {\n   *   // Display results\n   * }\n   * ```\n   */\n  var usePropaneUsage = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var estimate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Retrieve subscription ID from AsyncStorage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            try {\n              subscriptionId = yield AsyncStorage.default.getItem('subscription_id');\n            } catch (e) {\n              console.log('Could not retrieve subscription ID from storage');\n            }\n          }\n\n          // Call API endpoint\n          var response = yield fetch(`${API_BASE}/api/pro/propane-usage`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              ...request,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            // Try to parse error detail from response\n            var errorDetail = `HTTP ${response.status}`;\n            try {\n              var errorData = yield response.json();\n              if (errorData.detail) {\n                errorDetail = errorData.detail;\n              }\n            } catch {\n              // If response isn't JSON, use status message\n              errorDetail = response.statusText || `HTTP ${response.status}`;\n            }\n            throw new Error(errorDetail);\n          }\n          var data = yield response.json();\n\n          // Detect premium-locked response\n          if (data.is_premium_locked && data.premium_message) {\n            setError(data.premium_message);\n            setResult(data);\n            setLoading(false);\n            return data;\n          }\n\n          // Success\n          setResult(data);\n          setLoading(false);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error';\n          console.error('Error in usePropaneUsage:', errorMessage);\n          setError(errorMessage);\n          setLoading(false);\n          return null;\n        }\n      });\n      return function estimate(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      estimate,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n  _s(usePropaneUsage, \"0rJtg/E9+fiowe8eKNooMN/xlkg=\");\n});","lineCount":151,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,0,6,0],[11,2,1,0,"Object"],[11,8,1,0],[11,9,1,0,"defineProperty"],[11,23,1,0],[11,24,1,0,"exports"],[11,31,1,0],[12,4,1,0,"value"],[12,9,1,0],[13,2,1,0],[14,2,1,0],[14,11,1,0,"_interopDefault"],[14,27,1,0,"e"],[14,28,1,0],[15,4,1,0],[15,11,1,0,"e"],[15,12,1,0],[15,16,1,0,"e"],[15,17,1,0],[15,18,1,0,"__esModule"],[15,28,1,0],[15,31,1,0,"e"],[15,32,1,0],[16,6,1,0,"default"],[16,13,1,0],[16,15,1,0,"e"],[17,4,1,0],[18,2,1,0],[19,2,63,0,"Object"],[19,8,63,0],[19,9,63,0,"defineProperty"],[19,23,63,0],[19,24,63,0,"exports"],[19,31,63,0],[20,4,63,0,"enumerable"],[20,14,63,0],[21,4,63,0,"get"],[21,7,63,0],[21,18,63,0,"get"],[21,19,63,0],[22,6,63,0],[22,13,63,0,"usePropaneUsage"],[22,28,63,0],[23,4,63,0],[24,2,63,0],[25,2,147,2],[25,6,147,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,42,147,2],[25,45,147,2,"require"],[25,52,147,2],[25,53,147,2,"_dependencyMap"],[25,67,147,2],[26,2,147,2],[26,6,147,2,"_asyncToGenerator"],[26,23,147,2],[26,26,147,2,"_interopDefault"],[26,41,147,2],[26,42,147,2,"_babelRuntimeHelpersAsyncToGenerator"],[26,78,147,2],[27,2,147,2],[27,6,147,2,"_babelRuntimeHelpersSlicedToArray"],[27,39,147,2],[27,42,147,2,"require"],[27,49,147,2],[27,50,147,2,"_dependencyMap"],[27,64,147,2],[28,2,147,2],[28,6,147,2,"_slicedToArray"],[28,20,147,2],[28,23,147,2,"_interopDefault"],[28,38,147,2],[28,39,147,2,"_babelRuntimeHelpersSlicedToArray"],[28,72,147,2],[29,2,147,2],[29,6,147,2,"_expoVirtualEnv"],[29,21,147,2],[29,24,147,2,"require"],[29,31,147,2],[29,32,147,2,"_dependencyMap"],[29,46,147,2],[30,2,8,0],[30,6,8,0,"_react"],[30,12,8,0],[30,15,8,0,"require"],[30,22,8,0],[30,23,8,0,"_dependencyMap"],[30,37,8,0],[31,2,9,0],[31,6,9,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,9,0],[31,45,9,0,"require"],[31,52,9,0],[31,53,9,0,"_dependencyMap"],[31,67,9,0],[32,2,9,0],[32,6,9,0,"AsyncStorage"],[32,18,9,0],[32,21,9,0,"_interopDefault"],[32,36,9,0],[32,37,9,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,9,0],[33,2,11,0],[33,6,11,6,"API_BASE"],[33,14,11,14],[33,17,11,17,"_expoVirtualEnv"],[33,32,11,17],[33,33,11,17,"env"],[33,36,11,17],[33,37,11,17,"EXPO_PUBLIC_API_BASE"],[33,57,11,17],[33,61,11,53],[33,84,11,76],[35,2,13,0],[37,2,42,0],[38,0,43,0],[39,0,44,0],[40,0,45,0],[41,0,46,0],[42,0,47,0],[43,0,48,0],[44,0,49,0],[45,0,50,0],[46,0,51,0],[47,0,52,0],[48,0,53,0],[49,0,54,0],[50,0,55,0],[51,0,56,0],[52,0,57,0],[53,0,58,0],[54,0,59,0],[55,0,60,0],[56,0,61,0],[57,0,62,0],[58,2,63,7],[58,6,63,13,"usePropaneUsage"],[58,21,63,28],[58,24,63,31,"usePropaneUsage"],[58,25,63,31],[58,30,63,60],[59,4,63,60,"_s"],[59,6,63,60],[60,4,64,2],[60,8,64,2,"_useState"],[60,17,64,2],[60,20,64,32],[60,24,64,32,"useState"],[60,30,64,40],[60,31,64,40,"useState"],[60,39,64,40],[60,41,64,41],[60,46,64,46],[60,47,64,47],[61,6,64,47,"_useState2"],[61,16,64,47],[61,23,64,47,"_slicedToArray"],[61,37,64,47],[61,38,64,47,"default"],[61,45,64,47],[61,47,64,47,"_useState"],[61,56,64,47],[62,6,64,9,"loading"],[62,13,64,16],[62,16,64,16,"_useState2"],[62,26,64,16],[63,6,64,18,"setLoading"],[63,16,64,28],[63,19,64,28,"_useState2"],[63,29,64,28],[64,4,65,2],[64,8,65,2,"_useState3"],[64,18,65,2],[64,21,65,28],[64,25,65,28,"useState"],[64,31,65,36],[64,32,65,36,"useState"],[64,40,65,36],[64,42,65,52],[64,46,65,56],[64,47,65,57],[65,6,65,57,"_useState4"],[65,16,65,57],[65,23,65,57,"_slicedToArray"],[65,37,65,57],[65,38,65,57,"default"],[65,45,65,57],[65,47,65,57,"_useState3"],[65,57,65,57],[66,6,65,9,"error"],[66,11,65,14],[66,14,65,14,"_useState4"],[66,24,65,14],[67,6,65,16,"setError"],[67,14,65,24],[67,17,65,24,"_useState4"],[67,27,65,24],[68,4,66,2],[68,8,66,2,"_useState5"],[68,18,66,2],[68,21,66,30],[68,25,66,30,"useState"],[68,31,66,38],[68,32,66,38,"useState"],[68,40,66,38],[68,42,66,68],[68,46,66,72],[68,47,66,73],[69,6,66,73,"_useState6"],[69,16,66,73],[69,23,66,73,"_slicedToArray"],[69,37,66,73],[69,38,66,73,"default"],[69,45,66,73],[69,47,66,73,"_useState5"],[69,57,66,73],[70,6,66,9,"result"],[70,12,66,15],[70,15,66,15,"_useState6"],[70,25,66,15],[71,6,66,17,"setResult"],[71,15,66,26],[71,18,66,26,"_useState6"],[71,28,66,26],[72,4,68,2],[72,8,68,8,"estimate"],[72,16,68,16],[73,6,68,16],[73,10,68,16,"_ref"],[73,14,68,16],[73,21,68,16,"_asyncToGenerator"],[73,38,68,16],[73,39,68,16,"default"],[73,46,68,16],[73,48,68,19],[73,59,69,4,"request"],[73,66,69,32],[73,68,70,45],[74,8,71,4,"setLoading"],[74,18,71,14],[74,19,71,15],[74,23,71,19],[74,24,71,20],[75,8,72,4,"setError"],[75,16,72,12],[75,17,72,13],[75,21,72,17],[75,22,72,18],[76,8,74,4],[76,12,74,8],[77,10,75,6],[78,10,76,6],[78,14,76,10,"subscriptionId"],[78,28,76,24],[78,31,76,27,"request"],[78,38,76,34],[78,39,76,35,"subscription_id"],[78,54,76,50],[79,10,77,6],[79,14,77,10],[79,15,77,11,"subscriptionId"],[79,29,77,25],[79,31,77,27],[80,12,78,8],[80,16,78,12],[81,14,79,10,"subscriptionId"],[81,28,79,24],[81,37,79,33,"AsyncStorage"],[81,49,79,45],[81,50,79,45,"default"],[81,57,79,45],[81,58,79,46,"getItem"],[81,65,79,53],[81,66,79,54],[81,83,79,71],[81,84,79,72],[82,12,80,8],[82,13,80,9],[82,14,80,10],[82,21,80,17,"e"],[82,22,80,18],[82,24,80,20],[83,14,81,10,"console"],[83,21,81,17],[83,22,81,18,"log"],[83,25,81,21],[83,26,81,22],[83,75,81,71],[83,76,81,72],[84,12,82,8],[85,10,83,6],[87,10,85,6],[88,10,86,6],[88,14,86,12,"response"],[88,22,86,20],[88,31,86,29,"fetch"],[88,36,86,34],[88,37,86,35],[88,40,86,38,"API_BASE"],[88,48,86,46],[88,72,86,70],[88,74,86,72],[89,12,87,8,"method"],[89,18,87,14],[89,20,87,16],[89,26,87,22],[90,12,88,8,"headers"],[90,19,88,15],[90,21,88,17],[91,14,89,10],[91,28,89,24],[91,30,89,26],[92,12,90,8],[92,13,90,9],[93,12,91,8,"body"],[93,16,91,12],[93,18,91,14,"JSON"],[93,22,91,18],[93,23,91,19,"stringify"],[93,32,91,28],[93,33,91,29],[94,14,92,10],[94,17,92,13,"request"],[94,24,92,20],[95,14,93,10,"subscription_id"],[95,29,93,25],[95,31,93,27,"subscriptionId"],[96,12,94,8],[96,13,94,9],[97,10,95,6],[97,11,95,7],[97,12,95,8],[98,10,97,6],[98,14,97,10],[98,15,97,11,"response"],[98,23,97,19],[98,24,97,20,"ok"],[98,26,97,22],[98,28,97,24],[99,12,98,8],[100,12,99,8],[100,16,99,12,"errorDetail"],[100,27,99,23],[100,30,99,26],[100,38,99,34,"response"],[100,46,99,42],[100,47,99,43,"status"],[100,53,99,49],[100,55,99,51],[101,12,100,8],[101,16,100,12],[102,14,101,10],[102,18,101,16,"errorData"],[102,27,101,25],[102,36,101,34,"response"],[102,44,101,42],[102,45,101,43,"json"],[102,49,101,47],[102,50,101,48],[102,51,101,49],[103,14,102,10],[103,18,102,14,"errorData"],[103,27,102,23],[103,28,102,24,"detail"],[103,34,102,30],[103,36,102,32],[104,16,103,12,"errorDetail"],[104,27,103,23],[104,30,103,26,"errorData"],[104,39,103,35],[104,40,103,36,"detail"],[104,46,103,42],[105,14,104,10],[106,12,105,8],[106,13,105,9],[106,14,105,10],[106,20,105,16],[107,14,106,10],[108,14,107,10,"errorDetail"],[108,25,107,21],[108,28,107,24,"response"],[108,36,107,32],[108,37,107,33,"statusText"],[108,47,107,43],[108,51,107,47],[108,59,107,55,"response"],[108,67,107,63],[108,68,107,64,"status"],[108,74,107,70],[108,76,107,72],[109,12,108,8],[110,12,109,8],[110,18,109,14],[110,22,109,18,"Error"],[110,27,109,23],[110,28,109,24,"errorDetail"],[110,39,109,35],[110,40,109,36],[111,10,110,6],[112,10,112,6],[112,14,112,12,"data"],[112,18,112,38],[112,27,112,47,"response"],[112,35,112,55],[112,36,112,56,"json"],[112,40,112,60],[112,41,112,61],[112,42,112,62],[114,10,114,6],[115,10,115,6],[115,14,115,10,"data"],[115,18,115,14],[115,19,115,15,"is_premium_locked"],[115,36,115,32],[115,40,115,36,"data"],[115,44,115,40],[115,45,115,41,"premium_message"],[115,60,115,56],[115,62,115,58],[116,12,116,8,"setError"],[116,20,116,16],[116,21,116,17,"data"],[116,25,116,21],[116,26,116,22,"premium_message"],[116,41,116,37],[116,42,116,38],[117,12,117,8,"setResult"],[117,21,117,17],[117,22,117,18,"data"],[117,26,117,22],[117,27,117,23],[118,12,118,8,"setLoading"],[118,22,118,18],[118,23,118,19],[118,28,118,24],[118,29,118,25],[119,12,119,8],[119,19,119,15,"data"],[119,23,119,19],[120,10,120,6],[122,10,122,6],[123,10,123,6,"setResult"],[123,19,123,15],[123,20,123,16,"data"],[123,24,123,20],[123,25,123,21],[124,10,124,6,"setLoading"],[124,20,124,16],[124,21,124,17],[124,26,124,22],[124,27,124,23],[125,10,125,6],[125,17,125,13,"data"],[125,21,125,17],[126,8,126,4],[126,9,126,5],[126,10,126,6],[126,17,126,13,"err"],[126,20,126,16],[126,22,126,18],[127,10,127,6],[127,14,127,12,"errorMessage"],[127,26,127,24],[127,29,127,27,"err"],[127,32,127,30],[127,44,127,42,"Error"],[127,49,127,47],[127,52,127,50,"err"],[127,55,127,53],[127,56,127,54,"message"],[127,63,127,61],[127,66,127,64],[127,81,127,79],[128,10,128,6,"console"],[128,17,128,13],[128,18,128,14,"error"],[128,23,128,19],[128,24,128,20],[128,51,128,47],[128,53,128,49,"errorMessage"],[128,65,128,61],[128,66,128,62],[129,10,129,6,"setError"],[129,18,129,14],[129,19,129,15,"errorMessage"],[129,31,129,27],[129,32,129,28],[130,10,130,6,"setLoading"],[130,20,130,16],[130,21,130,17],[130,26,130,22],[130,27,130,23],[131,10,131,6],[131,17,131,13],[131,21,131,17],[132,8,132,4],[133,6,133,2],[133,7,133,3],[134,6,133,3],[134,22,68,8,"estimate"],[134,30,68,16,"estimate"],[134,31,68,16,"_x"],[134,33,68,16],[135,8,68,16],[135,15,68,16,"_ref"],[135,19,68,16],[135,20,68,16,"apply"],[135,25,68,16],[135,32,68,16,"arguments"],[135,41,68,16],[136,6,68,16],[137,4,68,16],[137,7,133,3],[138,4,135,2],[138,8,135,8,"clearResult"],[138,19,135,19],[138,22,135,22,"clearResult"],[138,23,135,22],[138,28,135,28],[139,6,136,4,"setResult"],[139,15,136,13],[139,16,136,14],[139,20,136,18],[139,21,136,19],[140,6,137,4,"setError"],[140,14,137,12],[140,15,137,13],[140,19,137,17],[140,20,137,18],[141,4,138,2],[141,5,138,3],[142,4,140,2],[142,11,140,9],[143,6,141,4,"estimate"],[143,14,141,12],[144,6,142,4,"loading"],[144,13,142,11],[145,6,143,4,"error"],[145,11,143,9],[146,6,144,4,"result"],[146,12,144,10],[147,6,145,4,"clearResult"],[148,4,146,2],[148,5,146,3],[149,2,147,0],[149,3,147,1],[150,2,147,2,"_s"],[150,4,147,2],[150,5,63,13,"usePropaneUsage"],[150,20,63,28],[151,0,63,28],[151,3]],"functionMap":{"names":["<global>","usePropaneUsage","estimate","clearResult"],"mappings":"AAA;+BC8D;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}