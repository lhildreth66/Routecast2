{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useRoadPassability\", {\n    enumerable: true,\n    get: function () {\n      return useRoadPassability;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2]);\n  var _apiConfig = require(_dependencyMap[3]);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4]);\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for assessing road passability conditions\n   * \n   * Features:\n   * - Premium-gated: requires active subscription\n   * - Pure deterministic calculations\n   * - Comprehensive risk assessment (mud, ice, clearance)\n   * - Vehicle recommendations\n   * - Handles paywall gracefully\n   * \n   * Usage:\n   * ```\n   * const { assess, loading, result, error } = useRoadPassability();\n   * \n   * const assessment = await assess({\n   *   precip_72h: 50,\n   *   slope_pct: 8,\n   *   min_temp_f: 32,\n   *   soil_type: 'clay',\n   * });\n   * ```\n   */\n  var useRoadPassability = () => {\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var assess = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/road-passability`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              precip_72h: request.precip_72h,\n              slope_pct: request.slope_pct,\n              min_temp_f: request.min_temp_f,\n              soil_type: request.soil_type,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires Routecast Pro. Upgrade to unlock.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error assessing road conditions';\n          setError(errorMessage);\n          console.error('[RoadPassability] Assessment error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function assess(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      assess,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n});","lineCount":121,"map":[[12,2,61,0,"Object"],[12,8,61,0],[12,9,61,0,"defineProperty"],[12,23,61,0],[12,24,61,0,"exports"],[12,31,61,0],[13,4,61,0,"enumerable"],[13,14,61,0],[14,4,61,0,"get"],[14,7,61,0],[14,18,61,0,"get"],[14,19,61,0],[15,6,61,0],[15,13,61,0,"useRoadPassability"],[15,31,61,0],[16,4,61,0],[17,2,61,0],[18,2,136,2],[18,6,136,2,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,136,2],[18,45,136,2,"require"],[18,52,136,2],[18,53,136,2,"_dependencyMap"],[18,67,136,2],[19,2,136,2],[19,6,136,2,"_asyncToGenerator"],[19,23,136,2],[19,26,136,2,"_interopDefault"],[19,41,136,2],[19,42,136,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,136,2],[20,2,136,2],[20,6,136,2,"_babelRuntimeHelpersSlicedToArray"],[20,39,136,2],[20,42,136,2,"require"],[20,49,136,2],[20,50,136,2,"_dependencyMap"],[20,64,136,2],[21,2,136,2],[21,6,136,2,"_slicedToArray"],[21,20,136,2],[21,23,136,2,"_interopDefault"],[21,38,136,2],[21,39,136,2,"_babelRuntimeHelpersSlicedToArray"],[21,72,136,2],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_apiConfig"],[23,16,2,0],[23,19,2,0,"require"],[23,26,2,0],[23,27,2,0,"_dependencyMap"],[23,41,2,0],[24,2,3,0],[24,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,3,0],[24,45,3,0,"require"],[24,52,3,0],[24,53,3,0,"_dependencyMap"],[24,67,3,0],[25,2,3,0],[25,6,3,0,"AsyncStorage"],[25,18,3,0],[25,21,3,0,"_interopDefault"],[25,36,3,0],[25,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,3,0],[26,2,39,0],[27,0,40,0],[28,0,41,0],[29,0,42,0],[30,0,43,0],[31,0,44,0],[32,0,45,0],[33,0,46,0],[34,0,47,0],[35,0,48,0],[36,0,49,0],[37,0,50,0],[38,0,51,0],[39,0,52,0],[40,0,53,0],[41,0,54,0],[42,0,55,0],[43,0,56,0],[44,0,57,0],[45,0,58,0],[46,0,59,0],[47,0,60,0],[48,2,61,7],[48,6,61,13,"useRoadPassability"],[48,24,61,31],[48,27,61,34,"useRoadPassability"],[48,28,61,34],[48,33,61,66],[49,4,62,2],[49,8,62,2,"_useState"],[49,17,62,2],[49,20,62,32],[49,24,62,32,"useState"],[49,30,62,40],[49,31,62,40,"useState"],[49,39,62,40],[49,41,62,41],[49,46,62,46],[49,47,62,47],[50,6,62,47,"_useState2"],[50,16,62,47],[50,23,62,47,"_slicedToArray"],[50,37,62,47],[50,38,62,47,"default"],[50,45,62,47],[50,47,62,47,"_useState"],[50,56,62,47],[51,6,62,9,"loading"],[51,13,62,16],[51,16,62,16,"_useState2"],[51,26,62,16],[52,6,62,18,"setLoading"],[52,16,62,28],[52,19,62,28,"_useState2"],[52,29,62,28],[53,4,63,2],[53,8,63,2,"_useState3"],[53,18,63,2],[53,21,63,28],[53,25,63,28,"useState"],[53,31,63,36],[53,32,63,36,"useState"],[53,40,63,36],[53,42,63,52],[53,46,63,56],[53,47,63,57],[54,6,63,57,"_useState4"],[54,16,63,57],[54,23,63,57,"_slicedToArray"],[54,37,63,57],[54,38,63,57,"default"],[54,45,63,57],[54,47,63,57,"_useState3"],[54,57,63,57],[55,6,63,9,"error"],[55,11,63,14],[55,14,63,14,"_useState4"],[55,24,63,14],[56,6,63,16,"setError"],[56,14,63,24],[56,17,63,24,"_useState4"],[56,27,63,24],[57,4,64,2],[57,8,64,2,"_useState5"],[57,18,64,2],[57,21,64,30],[57,25,64,30,"useState"],[57,31,64,38],[57,32,64,38,"useState"],[57,40,64,38],[57,42,64,71],[57,46,64,75],[57,47,64,76],[58,6,64,76,"_useState6"],[58,16,64,76],[58,23,64,76,"_slicedToArray"],[58,37,64,76],[58,38,64,76,"default"],[58,45,64,76],[58,47,64,76,"_useState5"],[58,57,64,76],[59,6,64,9,"result"],[59,12,64,15],[59,15,64,15,"_useState6"],[59,25,64,15],[60,6,64,17,"setResult"],[60,15,64,26],[60,18,64,26,"_useState6"],[60,28,64,26],[61,4,66,2],[61,8,66,8,"assess"],[61,14,66,14],[62,6,66,14],[62,10,66,14,"_ref"],[62,14,66,14],[62,21,66,14,"_asyncToGenerator"],[62,38,66,14],[62,39,66,14,"default"],[62,46,66,14],[62,48,66,17],[62,59,67,4,"request"],[62,66,67,35],[62,68,68,41],[63,8,69,4,"setLoading"],[63,18,69,14],[63,19,69,15],[63,23,69,19],[63,24,69,20],[64,8,70,4,"setError"],[64,16,70,12],[64,17,70,13],[64,21,70,17],[64,22,70,18],[65,8,72,4],[65,12,72,8],[66,10,73,6],[67,10,74,6],[67,14,74,10,"subscriptionId"],[67,28,74,24],[67,31,74,27,"request"],[67,38,74,34],[67,39,74,35,"subscription_id"],[67,54,74,50],[68,10,75,6],[68,14,75,10],[68,15,75,11,"subscriptionId"],[68,29,75,25],[68,31,75,27],[69,12,76,8,"subscriptionId"],[69,26,76,22],[69,35,76,31,"AsyncStorage"],[69,47,76,43],[69,48,76,43,"default"],[69,55,76,43],[69,56,76,44,"getItem"],[69,63,76,51],[69,64,76,52],[69,91,76,79],[69,92,76,80],[70,10,77,6],[71,10,79,6],[71,14,79,12,"response"],[71,22,79,20],[71,31,79,29,"fetch"],[71,36,79,34],[71,37,79,35],[71,40,79,38,"API_BASE"],[71,50,79,46],[71,51,79,46,"API_BASE"],[71,59,79,46],[71,86,79,73],[71,88,79,75],[72,12,80,8,"method"],[72,18,80,14],[72,20,80,16],[72,26,80,22],[73,12,81,8,"headers"],[73,19,81,15],[73,21,81,17],[74,14,82,10],[74,28,82,24],[74,30,82,26],[75,12,83,8],[75,13,83,9],[76,12,84,8,"body"],[76,16,84,12],[76,18,84,14,"JSON"],[76,22,84,18],[76,23,84,19,"stringify"],[76,32,84,28],[76,33,84,29],[77,14,85,10,"precip_72h"],[77,24,85,20],[77,26,85,22,"request"],[77,33,85,29],[77,34,85,30,"precip_72h"],[77,44,85,40],[78,14,86,10,"slope_pct"],[78,23,86,19],[78,25,86,21,"request"],[78,32,86,28],[78,33,86,29,"slope_pct"],[78,42,86,38],[79,14,87,10,"min_temp_f"],[79,24,87,20],[79,26,87,22,"request"],[79,33,87,29],[79,34,87,30,"min_temp_f"],[79,44,87,40],[80,14,88,10,"soil_type"],[80,23,88,19],[80,25,88,21,"request"],[80,32,88,28],[80,33,88,29,"soil_type"],[80,42,88,38],[81,14,89,10,"subscription_id"],[81,29,89,25],[81,31,89,27,"subscriptionId"],[82,12,90,8],[82,13,90,9],[83,10,91,6],[83,11,91,7],[83,12,91,8],[84,10,93,6],[84,14,93,10],[84,15,93,11,"response"],[84,23,93,19],[84,24,93,20,"ok"],[84,26,93,22],[84,28,93,24],[85,12,94,8],[85,16,94,14,"errorData"],[85,25,94,23],[85,34,94,32,"response"],[85,42,94,40],[85,43,94,41,"json"],[85,47,94,45],[85,48,94,46],[85,49,94,47],[86,12,95,8],[86,18,95,14],[86,22,95,18,"Error"],[86,27,95,23],[86,28,96,10,"errorData"],[86,37,96,19],[86,38,96,20,"detail"],[86,44,96,26],[86,48,96,30],[86,62,96,44,"response"],[86,70,96,52],[86,71,96,53,"status"],[86,77,96,59],[86,79,97,8],[86,80,97,9],[87,10,98,6],[88,10,100,6],[88,14,100,12,"data"],[88,18,100,41],[88,27,100,50,"response"],[88,35,100,58],[88,36,100,59,"json"],[88,40,100,63],[88,41,100,64],[88,42,100,65],[90,10,102,6],[91,10,103,6],[91,14,103,10,"data"],[91,18,103,14],[91,19,103,15,"is_premium_locked"],[91,36,103,32],[91,38,103,34],[92,12,104,8,"setError"],[92,20,104,16],[92,21,105,10,"data"],[92,25,105,14],[92,26,105,15,"premium_message"],[92,41,105,30],[92,45,106,10],[92,102,107,8],[92,103,107,9],[93,10,108,6],[94,10,110,6,"setResult"],[94,19,110,15],[94,20,110,16,"data"],[94,24,110,20],[94,25,110,21],[95,10,111,6],[95,17,111,13,"data"],[95,21,111,17],[96,8,112,4],[96,9,112,5],[96,10,112,6],[96,17,112,13,"err"],[96,20,112,16],[96,22,112,18],[97,10,113,6],[97,14,113,12,"errorMessage"],[97,26,113,24],[97,29,114,8,"err"],[97,32,114,11],[97,44,114,23,"Error"],[97,49,114,28],[97,52,114,31,"err"],[97,55,114,34],[97,56,114,35,"message"],[97,63,114,42],[97,66,114,45],[97,107,114,86],[98,10,115,6,"setError"],[98,18,115,14],[98,19,115,15,"errorMessage"],[98,31,115,27],[98,32,115,28],[99,10,116,6,"console"],[99,17,116,13],[99,18,116,14,"error"],[99,23,116,19],[99,24,116,20],[99,61,116,57],[99,63,116,59,"errorMessage"],[99,75,116,71],[99,76,116,72],[100,10,118,6],[100,16,118,12,"err"],[100,19,118,15],[101,8,119,4],[101,9,119,5],[101,18,119,14],[102,10,120,6,"setLoading"],[102,20,120,16],[102,21,120,17],[102,26,120,22],[102,27,120,23],[103,8,121,4],[104,6,122,2],[104,7,122,3],[105,6,122,3],[105,22,66,8,"assess"],[105,28,66,14,"assess"],[105,29,66,14,"_x"],[105,31,66,14],[106,8,66,14],[106,15,66,14,"_ref"],[106,19,66,14],[106,20,66,14,"apply"],[106,25,66,14],[106,32,66,14,"arguments"],[106,41,66,14],[107,6,66,14],[108,4,66,14],[108,7,122,3],[109,4,124,2],[109,8,124,8,"clearResult"],[109,19,124,19],[109,22,124,22,"clearResult"],[109,23,124,22],[109,28,124,28],[110,6,125,4,"setResult"],[110,15,125,13],[110,16,125,14],[110,20,125,18],[110,21,125,19],[111,6,126,4,"setError"],[111,14,126,12],[111,15,126,13],[111,19,126,17],[111,20,126,18],[112,4,127,2],[112,5,127,3],[113,4,129,2],[113,11,129,9],[114,6,130,4,"assess"],[114,12,130,10],[115,6,131,4,"loading"],[115,13,131,11],[116,6,132,4,"error"],[116,11,132,9],[117,6,133,4,"result"],[117,12,133,10],[118,6,134,4,"clearResult"],[119,4,135,2],[119,5,135,3],[120,2,136,0],[120,3,136,1],[121,0,136,2],[121,3]],"functionMap":{"names":["<global>","useRoadPassability","assess","clearResult"],"mappings":"AAA;kCC4D;iBCK;GDwD;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}