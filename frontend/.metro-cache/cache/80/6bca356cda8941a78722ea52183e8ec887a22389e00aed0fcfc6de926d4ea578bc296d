{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"BillingService\",{enumerable:!0,get:function(){return n}});var t=e(r(d[0])),o=e(r(d[1]));const c=process.env.EXPO_PUBLIC_BACKEND_URL||'http://localhost:8000',n={async initializeBilling(){try{console.log('[BILLING] Initializing Google Play Billing (STUB)');try{await t.default.get(`${c}/api/health`,{timeout:5e3});return console.log('[BILLING] Backend available, billing ready'),!0}catch(e){return console.log('[BILLING] Backend unavailable, operating in offline mode'),!0}}catch(e){return console.error('[BILLING] Initialization error (non-fatal):',e),!0}},async getAvailableProducts(){try{return console.log('[BILLING] Fetching available products (STUB)'),[{id:'routecast_pro_monthly',name:'Routecast Pro - Monthly',price:'$4.99',priceMicros:499e4,currencyCode:'USD'},{id:'routecast_pro_annual',name:'Routecast Pro - Annual',price:'$29.99',priceMicros:2999e4,currencyCode:'USD'}]}catch(e){return console.error('[BILLING] Error fetching products:',e),[]}},async purchase(e){try{return console.log(`[BILLING] Starting purchase for: ${e}`),console.log('[BILLING] Purchase flow started (STUB - test mode)'),await new Promise(e=>setTimeout(e,2e3)),await o.default.setItem('routecast_premium_status','active'),await o.default.setItem('routecast_subscription_id',e),console.log('[BILLING] Purchase successful (STUB)'),!0}catch(e){return console.error('[BILLING] Purchase error:',e),!1}},async getActiveSubscription(){try{console.log('[BILLING] Checking active subscription');const e=await o.default.getItem('routecast_subscription_id'),t=await o.default.getItem('routecast_premium_status');return e&&'active'===t?(console.log('[BILLING] Active subscription found:',e),{subscriptionId:e,purchaseToken:'stub_token',expiryTime:Date.now()+2592e6,isActive:!0}):(console.log('[BILLING] No active subscription'),null)}catch(e){return console.error('[BILLING] Error checking subscription:',e),null}},async cancelSubscription(e){try{return console.log(`[BILLING] Canceling subscription: ${e}`),await o.default.removeItem('routecast_premium_status'),await o.default.removeItem('routecast_subscription_id'),console.log('[BILLING] Subscription canceled'),!0}catch(e){return console.error('[BILLING] Error canceling subscription:',e),!1}},async restorePurchases(){try{console.log('[BILLING] Restoring purchases');return'active'===await o.default.getItem('routecast_premium_status')?(console.log('[BILLING] Previous purchase restored'),!0):(console.log('[BILLING] No previous purchases found'),!1)}catch(e){return console.error('[BILLING] Error restoring purchases:',e),!1}}}});","lineCount":1,"map":[[1,143,21,0,"Object"],[1,150,21,0,"defineProperty"],[1,165,21,0,"_e"],[1,168,21,0],[1,186,21,0,"enumerable"],[1,198,21,0],[1,200,21,0,"get"],[1,204,21,0],[1,222,21,0,"BillingService"],[1,223,21,0],[1,227,1,0],[1,231,1,0,"axios"],[1,233,1,0,"_interopDefault"],[1,235,1,0,"r"],[1,237,1,0,"d"],[1,239,1,0],[1,244,2,0,"AsyncStorage"],[1,246,2,0,"_interopDefault"],[1,248,2,0,"r"],[1,250,2,0,"d"],[1,252,2,0],[1,257,4,0],[1,263,4,6,"API_BASE"],[1,265,4,17,"process"],[1,273,4,25,"env"],[1,277,4,29,"EXPO_PUBLIC_BACKEND_URL"],[1,302,4,56],[1,326,21,13,"BillingService"],[1,328,21,30],[1,329,26,2],[1,352,26,8,"initializeBilling"],[1,355,27,4],[1,359,28,6,"console"],[1,367,28,14,"log"],[1,371,28,18],[1,424,32,6],[1,434,33,31,"axios"],[1,436,33,36,"default"],[1,444,33,37,"get"],[1,448,33,41],[1,451,33,44,"API_BASE"],[1,466,33,67],[1,467,34,10,"timeout"],[1,475,34,19],[1,481,37,8],[1,488,36,8,"console"],[1,496,36,16,"log"],[1,500,36,20],[1,547,37,15],[1,548,38,6],[1,549,38,8],[1,555,38,15,"err"],[1,558,40,8],[1,565,39,8,"console"],[1,573,39,16,"log"],[1,577,39,20],[1,638,40,15],[1,639,41,6],[1,640,42,4],[1,641,42,6],[1,647,42,13,"err"],[1,650,44,6],[1,657,43,6,"console"],[1,665,43,14,"error"],[1,671,43,20],[1,717,43,67,"err"],[1,721,44,13],[1,722,45,4],[1,723,46,2],[1,725,52,2],[1,751,52,8,"getAvailableProducts"],[1,754,53,4],[1,758,58,6],[1,765,54,6,"console"],[1,773,54,14,"log"],[1,777,54,18],[1,825,58,13],[1,826,59,8],[1,827,60,10,"id"],[1,830,60,14],[1,854,61,10,"name"],[1,859,61,16],[1,885,62,10,"price"],[1,891,62,17],[1,899,63,10,"priceMicros"],[1,911,63,23],[1,917,64,10,"currencyCode"],[1,930,64,24],[1,937,66,8],[1,938,67,10,"id"],[1,941,67,14],[1,964,68,10,"name"],[1,969,68,16],[1,994,69,10,"price"],[1,1000,69,17],[1,1009,70,10,"priceMicros"],[1,1021,70,23],[1,1028,71,10,"currencyCode"],[1,1041,71,24],[1,1048,74,4],[1,1049,74,6],[1,1055,74,13,"err"],[1,1058,76,6],[1,1065,75,6,"console"],[1,1073,75,14,"error"],[1,1079,75,20],[1,1116,75,58,"err"],[1,1119,76,13],[1,1121,77,4],[1,1122,78,2],[1,1124,84,2],[1,1138,84,8,"purchase"],[1,1139,84,17,"subscriptionId"],[1,1142,85,4],[1,1146,107,6],[1,1153,86,6,"console"],[1,1161,86,14,"log"],[1,1165,86,18],[1,1201,86,54,"subscriptionId"],[1,1206,97,6,"console"],[1,1214,97,14,"log"],[1,1218,97,18],[1,1278,100,12],[1,1282,100,16,"Promise"],[1,1290,100,24,"resolve"],[1,1293,100,35,"setTimeout"],[1,1304,100,46,"resolve"],[1,1306,100,55],[1,1318,103,12,"AsyncStorage"],[1,1320,103,24,"default"],[1,1328,103,25,"setItem"],[1,1336,103,33],[1,1363,103,61],[1,1379,104,12,"AsyncStorage"],[1,1381,104,24,"default"],[1,1389,104,25,"setItem"],[1,1397,104,33],[1,1425,104,62,"subscriptionId"],[1,1428,106,6,"console"],[1,1436,106,14,"log"],[1,1440,106,18],[1,1481,107,13],[1,1482,108,4],[1,1483,108,6],[1,1489,108,13,"err"],[1,1492,110,6],[1,1499,109,6,"console"],[1,1507,109,14,"error"],[1,1513,109,20],[1,1541,109,49,"err"],[1,1545,110,13],[1,1546,111,4],[1,1547,112,2],[1,1549,117,2],[1,1576,117,8,"getActiveSubscription"],[1,1579,118,4],[1,1583,119,6,"console"],[1,1591,119,14,"log"],[1,1595,119,18],[1,1637,121,6],[1,1643,121,12,"subId"],[1,1651,121,26,"AsyncStorage"],[1,1653,121,38,"default"],[1,1661,121,39,"getItem"],[1,1669,121,47],[1,1698,122,12,"premiumStatus"],[1,1706,122,34,"AsyncStorage"],[1,1708,122,46,"default"],[1,1716,122,47,"getItem"],[1,1724,122,55],[1,1752,124,6],[1,1759,124,10,"subId"],[1,1762,124,37],[1,1773,124,19,"premiumStatus"],[1,1776,125,8,"console"],[1,1784,125,16,"log"],[1,1788,125,20],[1,1827,125,60,"subId"],[1,1830,126,15],[1,1831,127,10,"subscriptionId"],[1,1846,127,26,"subId"],[1,1848,128,10,"purchaseToken"],[1,1862,128,25],[1,1875,129,10,"expiryTime"],[1,1886,129,22,"Date"],[1,1891,129,27,"now"],[1,1897,129,32],[1,1904,130,10,"isActive"],[1,1914,130,20],[1,1919,134,6,"console"],[1,1927,134,14,"log"],[1,1931,134,18],[1,1967,135,13],[1,1972,136,4],[1,1973,136,6],[1,1979,136,13,"err"],[1,1982,138,6],[1,1989,137,6,"console"],[1,1997,137,14,"error"],[1,2003,137,20],[1,2044,137,62,"err"],[1,2047,138,13],[1,2051,139,4],[1,2052,140,2],[1,2054,145,2],[1,2078,145,8,"cancelSubscription"],[1,2079,145,27,"subscriptionId"],[1,2082,146,4],[1,2086,155,6],[1,2093,147,6,"console"],[1,2101,147,14,"log"],[1,2105,147,18],[1,2142,147,55,"subscriptionId"],[1,2153,151,12,"AsyncStorage"],[1,2155,151,24,"default"],[1,2163,151,25,"removeItem"],[1,2174,151,36],[1,2208,152,12,"AsyncStorage"],[1,2210,152,24,"default"],[1,2218,152,25,"removeItem"],[1,2229,152,36],[1,2258,154,6,"console"],[1,2266,154,14,"log"],[1,2270,154,18],[1,2306,155,13],[1,2307,156,4],[1,2308,156,6],[1,2314,156,13,"err"],[1,2317,158,6],[1,2324,157,6,"console"],[1,2332,157,14,"error"],[1,2338,157,20],[1,2380,157,63,"err"],[1,2384,158,13],[1,2385,159,4],[1,2386,160,2],[1,2388,165,2],[1,2410,165,8,"restorePurchases"],[1,2413,166,4],[1,2417,167,6,"console"],[1,2425,167,14,"log"],[1,2429,167,18],[1,2462,174,6],[1,2468,174,28],[1,2485,172,34,"AsyncStorage"],[1,2487,172,46,"default"],[1,2495,172,47,"getItem"],[1,2503,172,55],[1,2532,175,8,"console"],[1,2540,175,16,"log"],[1,2544,175,20],[1,2585,176,15],[1,2589,179,6,"console"],[1,2597,179,14,"log"],[1,2601,179,18],[1,2643,180,13],[1,2645,181,4],[1,2646,181,6],[1,2652,181,13,"err"],[1,2655,183,6],[1,2662,182,6,"console"],[1,2670,182,14,"error"],[1,2676,182,20],[1,2715,182,60,"err"],[1,2719,183,13],[1,2720,184,4],[1,2721,185,2],[1,2723,186,2],[1,2726]],"functionMap":{"names":["<global>","initializeBilling","getAvailableProducts","purchase","Promise$argument_0","getActiveSubscription","cancelSubscription","restorePurchases"],"mappings":"AAA;ECyB;GDoB;EEM;GF0B;EGM;wBCgB,oCD;GHY;EKK;GLuB;EMK;GNe;EOK;GPoB"},"hasCjsExports":false},"type":"js/module"}]}