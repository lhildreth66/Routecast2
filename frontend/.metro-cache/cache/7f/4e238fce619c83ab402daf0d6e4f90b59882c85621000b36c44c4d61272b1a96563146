{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":196},"end":{"line":8,"column":33,"index":229}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":230},"end":{"line":9,"column":69,"index":299}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useWaterBudget\",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),s=r(d[1]),o=(e=s)&&e.__esModule?e:{default:e};const n=process.env.EXPO_PUBLIC_API_BASE||'http://localhost:8000',u=()=>{const[e,s]=(0,t.useState)(!1),[u,l]=(0,t.useState)(null),[c,p]=(0,t.useState)(null);return{estimate:async e=>{s(!0),l(null);try{let t=e.subscription_id;if(!t)try{t=await o.default.getItem('subscription_id')}catch(e){console.log('Could not retrieve subscription ID from storage')}const u=await fetch(`${n}/api/pro/water-budget`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({...e,subscription_id:t})});if(!u.ok){let e=`HTTP ${u.status}`;try{const t=await u.json();t.detail&&(e=t.detail)}catch{e=u.statusText||`HTTP ${u.status}`}throw new Error(e)}const c=await u.json();return c.is_premium_locked&&c.premium_message?(l(c.premium_message),p(c),s(!1),c):(p(c),s(!1),c)}catch(e){const t=e instanceof Error?e.message:'Unknown error';return console.error('Error in useWaterBudget:',t),l(t),s(!1),null}},loading:e,error:u,result:c,clearResult:()=>{p(null),l(null)}}}});","lineCount":1,"map":[[1,92,67,0,"Object"],[1,99,67,0,"defineProperty"],[1,114,67,0,"_e"],[1,117,67,0],[1,135,67,0,"enumerable"],[1,147,67,0],[1,149,67,0,"get"],[1,153,67,0],[1,171,67,0,"useWaterBudget"],[1,172,67,0],[1,176,8,0],[1,180],[1,182,8,0,"_react"],[1,184,8,0,"r"],[1,186,8,0,"d"],[1,188,8,0],[1,192,9,0,"_reactNativeAsyncStorageAsyncStorage"],[1,194,9,0,"r"],[1,196,9,0,"d"],[1,198,9,0],[1,202,9,0,"AsyncStorage"],[1,205],[1,207,9,0,"_reactNativeAsyncStorageAsyncStorage"],[1,211],[1,238,11,0],[1,244,11,6,"API_BASE"],[1,246,11,17,"process"],[1,254,11,25,"env"],[1,258,11,29,"EXPO_PUBLIC_API_BASE"],[1,280,11,53],[1,304,67,13,"useWaterBudget"],[1,306,67,30,"useWaterBudget"],[1,311,68,2],[1,317,68,9,"loading"],[1,319,68,18,"setLoading"],[1,323,68,32],[1,325,68,32,"useState"],[1,327,68,40,"useState"],[1,338,68,41],[1,342,69,9,"error"],[1,344,69,16,"setError"],[1,348,69,28],[1,350,69,28,"useState"],[1,352,69,36,"useState"],[1,362,69,52],[1,369,70,9,"result"],[1,371,70,17,"setResult"],[1,375,70,30],[1,377,70,30,"useState"],[1,379,70,38,"useState"],[1,389,70,67],[1,395,144,2],[1,401,144,9],[1,402,145,4,"estimate"],[1,411,72,19,"async"],[1,421,75,4,"setLoading"],[1,424,75,15],[1,427,76,4,"setError"],[1,429,76,13],[1,435,78,4],[1,439,80,6],[1,443,80,10,"subscriptionId"],[1,445,80,27,"request"],[1,447,80,35,"subscription_id"],[1,463,81,6],[1,467,81,11,"subscriptionId"],[1,469,82,8],[1,473,83,10,"subscriptionId"],[1,481,83,33,"AsyncStorage"],[1,483,83,45,"default"],[1,491,83,46,"getItem"],[1,499,83,54],[1,517,84,8],[1,518,84,10],[1,524,84,17,"e"],[1,527,85,10,"console"],[1,535,85,18,"log"],[1,539,85,22],[1,589,86,8],[1,590,90,6],[1,596,90,12,"response"],[1,604,90,29,"fetch"],[1,610,90,35],[1,613,90,38,"API_BASE"],[1,638,90,71],[1,639,91,8,"method"],[1,646,91,16],[1,653,92,8,"headers"],[1,661,92,17],[1,662,93,10],[1,677,93,26],[1,697,95,8,"body"],[1,702,95,14,"JSON"],[1,707,95,19,"stringify"],[1,717,95,29],[1,721,96,13,"request"],[1,723,97,10,"subscription_id"],[1,739,97,27,"subscriptionId"],[1,745,101,6],[1,749,101,11,"response"],[1,751,101,20,"ok"],[1,754,101,24],[1,755,103,8],[1,759,103,12,"errorDetail"],[1,761,103,26],[1,769,103,34,"response"],[1,771,103,43,"status"],[1,780,104,8],[1,784,105,10],[1,790,105,16,"errorData"],[1,798,105,34,"response"],[1,800,105,43,"json"],[1,807,106,14,"errorData"],[1,809,106,24,"detail"],[1,818,107,12,"errorDetail"],[1,820,107,26,"errorData"],[1,822,107,36,"detail"],[1,829,109,8],[1,830,109,10],[1,836,111,10,"errorDetail"],[1,838,111,24,"response"],[1,840,111,33,"statusText"],[1,852,111,47],[1,860,111,55,"response"],[1,862,111,64,"status"],[1,870,112,8],[1,871,113,8],[1,877,113,14],[1,881,113,18,"Error"],[1,887,113,24,"errorDetail"],[1,889,114,6],[1,890,116,6],[1,896,116,12,"data"],[1,904,116,46,"response"],[1,906,116,55,"json"],[1,913,119,6],[1,920,119,10,"data"],[1,922,119,15,"is_premium_locked"],[1,941,119,36,"data"],[1,943,119,41,"premium_message"],[1,960,120,8,"setError"],[1,962,120,17,"data"],[1,964,120,22,"premium_message"],[1,981,121,8,"setResult"],[1,983,121,18,"data"],[1,986,122,8,"setLoading"],[1,989,122,19],[1,992,123,15,"data"],[1,996,127,6,"setResult"],[1,998,127,16,"data"],[1,1001,128,6,"setLoading"],[1,1004,128,17],[1,1007,129,13,"data"],[1,1009,130,4],[1,1010,130,6],[1,1016,130,13,"err"],[1,1019,131,6],[1,1025,131,12,"errorMessage"],[1,1027,131,27,"err"],[1,1040,131,42,"Error"],[1,1046,131,50,"err"],[1,1048,131,54,"message"],[1,1056,131,64],[1,1072,135,6],[1,1079,132,6,"console"],[1,1087,132,14,"error"],[1,1093,132,20],[1,1120,132,48,"errorMessage"],[1,1123,133,6,"setError"],[1,1125,133,15,"errorMessage"],[1,1128,134,6,"setLoading"],[1,1131,134,17],[1,1134,135,13],[1,1138,136,4],[1,1141,146,4,"loading"],[1,1151,147,4,"error"],[1,1159,148,4,"result"],[1,1168,149,4,"clearResult"],[1,1180,139,22,"clearResult"],[1,1185,140,4,"setResult"],[1,1187,140,14],[1,1193,141,4,"setError"],[1,1195,141,13],[1,1203,151,2],[1,1206]],"functionMap":{"names":["<global>","useWaterBudget","estimate","clearResult"],"mappings":"AAA;8BCkE;mBCK;GDiE;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}