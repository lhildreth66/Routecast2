{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../apiConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":40,"index":74}}],"key":"eOz6EHTfDIay8te+qJyZq2mxWtc=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":69,"index":144}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useRoadPassability\", {\n    enumerable: true,\n    get: function () {\n      return useRoadPassability;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _apiConfig = require(_dependencyMap[3], \"../apiConfig\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Hook for assessing road passability conditions\n   * \n   * Features:\n   * - Premium-gated: requires active subscription\n   * - Pure deterministic calculations\n   * - Comprehensive risk assessment (mud, ice, clearance)\n   * - Vehicle recommendations\n   * - Handles paywall gracefully\n   * \n   * Usage:\n   * ```\n   * const { assess, loading, result, error } = useRoadPassability();\n   * \n   * const assessment = await assess({\n   *   precip_72h: 50,\n   *   slope_pct: 8,\n   *   min_temp_f: 32,\n   *   soil_type: 'clay',\n   * });\n   * ```\n   */\n  var useRoadPassability = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n    var assess = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (request) {\n        setLoading(true);\n        setError(null);\n        try {\n          // Get subscription ID from storage if not provided\n          var subscriptionId = request.subscription_id;\n          if (!subscriptionId) {\n            subscriptionId = yield AsyncStorage.default.getItem('routecast_subscription_id');\n          }\n          var response = yield fetch(`${_apiConfig.API_BASE}/api/pro/road-passability`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              precip_72h: request.precip_72h,\n              slope_pct: request.slope_pct,\n              min_temp_f: request.min_temp_f,\n              soil_type: request.soil_type,\n              subscription_id: subscriptionId\n            })\n          });\n          if (!response.ok) {\n            var errorData = yield response.json();\n            throw new Error(errorData.detail || `API error: ${response.status}`);\n          }\n          var data = yield response.json();\n\n          // Check if response indicates premium lock\n          if (data.is_premium_locked) {\n            setError(data.premium_message || 'This feature requires Routecast Pro. Upgrade to unlock.');\n          }\n          setResult(data);\n          return data;\n        } catch (err) {\n          var errorMessage = err instanceof Error ? err.message : 'Unknown error assessing road conditions';\n          setError(errorMessage);\n          console.error('[RoadPassability] Assessment error:', errorMessage);\n          throw err;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function assess(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var clearResult = () => {\n      setResult(null);\n      setError(null);\n    };\n    return {\n      assess,\n      loading,\n      error,\n      result,\n      clearResult\n    };\n  };\n  _s(useRoadPassability, \"0rJtg/E9+fiowe8eKNooMN/xlkg=\");\n});","lineCount":124,"map":[[13,2,61,0,"Object"],[13,8,61,0],[13,9,61,0,"defineProperty"],[13,23,61,0],[13,24,61,0,"exports"],[13,31,61,0],[14,4,61,0,"enumerable"],[14,14,61,0],[15,4,61,0,"get"],[15,7,61,0],[15,18,61,0,"get"],[15,19,61,0],[16,6,61,0],[16,13,61,0,"useRoadPassability"],[16,31,61,0],[17,4,61,0],[18,2,61,0],[19,2,136,2],[19,6,136,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,136,2],[19,45,136,2,"require"],[19,52,136,2],[19,53,136,2,"_dependencyMap"],[19,67,136,2],[20,2,136,2],[20,6,136,2,"_asyncToGenerator"],[20,23,136,2],[20,26,136,2,"_interopDefault"],[20,41,136,2],[20,42,136,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,136,2],[21,2,136,2],[21,6,136,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,136,2],[21,42,136,2,"require"],[21,49,136,2],[21,50,136,2,"_dependencyMap"],[21,64,136,2],[22,2,136,2],[22,6,136,2,"_slicedToArray"],[22,20,136,2],[22,23,136,2,"_interopDefault"],[22,38,136,2],[22,39,136,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,136,2],[23,2,1,0],[23,6,1,0,"_react"],[23,12,1,0],[23,15,1,0,"require"],[23,22,1,0],[23,23,1,0,"_dependencyMap"],[23,37,1,0],[24,2,2,0],[24,6,2,0,"_apiConfig"],[24,16,2,0],[24,19,2,0,"require"],[24,26,2,0],[24,27,2,0,"_dependencyMap"],[24,41,2,0],[25,2,3,0],[25,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,3,0],[25,45,3,0,"require"],[25,52,3,0],[25,53,3,0,"_dependencyMap"],[25,67,3,0],[26,2,3,0],[26,6,3,0,"AsyncStorage"],[26,18,3,0],[26,21,3,0,"_interopDefault"],[26,36,3,0],[26,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,3,0],[27,2,39,0],[28,0,40,0],[29,0,41,0],[30,0,42,0],[31,0,43,0],[32,0,44,0],[33,0,45,0],[34,0,46,0],[35,0,47,0],[36,0,48,0],[37,0,49,0],[38,0,50,0],[39,0,51,0],[40,0,52,0],[41,0,53,0],[42,0,54,0],[43,0,55,0],[44,0,56,0],[45,0,57,0],[46,0,58,0],[47,0,59,0],[48,0,60,0],[49,2,61,7],[49,6,61,13,"useRoadPassability"],[49,24,61,31],[49,27,61,34,"useRoadPassability"],[49,28,61,34],[49,33,61,66],[50,4,61,66,"_s"],[50,6,61,66],[51,4,62,2],[51,8,62,2,"_useState"],[51,17,62,2],[51,20,62,32],[51,24,62,32,"useState"],[51,30,62,40],[51,31,62,40,"useState"],[51,39,62,40],[51,41,62,41],[51,46,62,46],[51,47,62,47],[52,6,62,47,"_useState2"],[52,16,62,47],[52,23,62,47,"_slicedToArray"],[52,37,62,47],[52,38,62,47,"default"],[52,45,62,47],[52,47,62,47,"_useState"],[52,56,62,47],[53,6,62,9,"loading"],[53,13,62,16],[53,16,62,16,"_useState2"],[53,26,62,16],[54,6,62,18,"setLoading"],[54,16,62,28],[54,19,62,28,"_useState2"],[54,29,62,28],[55,4,63,2],[55,8,63,2,"_useState3"],[55,18,63,2],[55,21,63,28],[55,25,63,28,"useState"],[55,31,63,36],[55,32,63,36,"useState"],[55,40,63,36],[55,42,63,52],[55,46,63,56],[55,47,63,57],[56,6,63,57,"_useState4"],[56,16,63,57],[56,23,63,57,"_slicedToArray"],[56,37,63,57],[56,38,63,57,"default"],[56,45,63,57],[56,47,63,57,"_useState3"],[56,57,63,57],[57,6,63,9,"error"],[57,11,63,14],[57,14,63,14,"_useState4"],[57,24,63,14],[58,6,63,16,"setError"],[58,14,63,24],[58,17,63,24,"_useState4"],[58,27,63,24],[59,4,64,2],[59,8,64,2,"_useState5"],[59,18,64,2],[59,21,64,30],[59,25,64,30,"useState"],[59,31,64,38],[59,32,64,38,"useState"],[59,40,64,38],[59,42,64,71],[59,46,64,75],[59,47,64,76],[60,6,64,76,"_useState6"],[60,16,64,76],[60,23,64,76,"_slicedToArray"],[60,37,64,76],[60,38,64,76,"default"],[60,45,64,76],[60,47,64,76,"_useState5"],[60,57,64,76],[61,6,64,9,"result"],[61,12,64,15],[61,15,64,15,"_useState6"],[61,25,64,15],[62,6,64,17,"setResult"],[62,15,64,26],[62,18,64,26,"_useState6"],[62,28,64,26],[63,4,66,2],[63,8,66,8,"assess"],[63,14,66,14],[64,6,66,14],[64,10,66,14,"_ref"],[64,14,66,14],[64,21,66,14,"_asyncToGenerator"],[64,38,66,14],[64,39,66,14,"default"],[64,46,66,14],[64,48,66,17],[64,59,67,4,"request"],[64,66,67,35],[64,68,68,41],[65,8,69,4,"setLoading"],[65,18,69,14],[65,19,69,15],[65,23,69,19],[65,24,69,20],[66,8,70,4,"setError"],[66,16,70,12],[66,17,70,13],[66,21,70,17],[66,22,70,18],[67,8,72,4],[67,12,72,8],[68,10,73,6],[69,10,74,6],[69,14,74,10,"subscriptionId"],[69,28,74,24],[69,31,74,27,"request"],[69,38,74,34],[69,39,74,35,"subscription_id"],[69,54,74,50],[70,10,75,6],[70,14,75,10],[70,15,75,11,"subscriptionId"],[70,29,75,25],[70,31,75,27],[71,12,76,8,"subscriptionId"],[71,26,76,22],[71,35,76,31,"AsyncStorage"],[71,47,76,43],[71,48,76,43,"default"],[71,55,76,43],[71,56,76,44,"getItem"],[71,63,76,51],[71,64,76,52],[71,91,76,79],[71,92,76,80],[72,10,77,6],[73,10,79,6],[73,14,79,12,"response"],[73,22,79,20],[73,31,79,29,"fetch"],[73,36,79,34],[73,37,79,35],[73,40,79,38,"API_BASE"],[73,50,79,46],[73,51,79,46,"API_BASE"],[73,59,79,46],[73,86,79,73],[73,88,79,75],[74,12,80,8,"method"],[74,18,80,14],[74,20,80,16],[74,26,80,22],[75,12,81,8,"headers"],[75,19,81,15],[75,21,81,17],[76,14,82,10],[76,28,82,24],[76,30,82,26],[77,12,83,8],[77,13,83,9],[78,12,84,8,"body"],[78,16,84,12],[78,18,84,14,"JSON"],[78,22,84,18],[78,23,84,19,"stringify"],[78,32,84,28],[78,33,84,29],[79,14,85,10,"precip_72h"],[79,24,85,20],[79,26,85,22,"request"],[79,33,85,29],[79,34,85,30,"precip_72h"],[79,44,85,40],[80,14,86,10,"slope_pct"],[80,23,86,19],[80,25,86,21,"request"],[80,32,86,28],[80,33,86,29,"slope_pct"],[80,42,86,38],[81,14,87,10,"min_temp_f"],[81,24,87,20],[81,26,87,22,"request"],[81,33,87,29],[81,34,87,30,"min_temp_f"],[81,44,87,40],[82,14,88,10,"soil_type"],[82,23,88,19],[82,25,88,21,"request"],[82,32,88,28],[82,33,88,29,"soil_type"],[82,42,88,38],[83,14,89,10,"subscription_id"],[83,29,89,25],[83,31,89,27,"subscriptionId"],[84,12,90,8],[84,13,90,9],[85,10,91,6],[85,11,91,7],[85,12,91,8],[86,10,93,6],[86,14,93,10],[86,15,93,11,"response"],[86,23,93,19],[86,24,93,20,"ok"],[86,26,93,22],[86,28,93,24],[87,12,94,8],[87,16,94,14,"errorData"],[87,25,94,23],[87,34,94,32,"response"],[87,42,94,40],[87,43,94,41,"json"],[87,47,94,45],[87,48,94,46],[87,49,94,47],[88,12,95,8],[88,18,95,14],[88,22,95,18,"Error"],[88,27,95,23],[88,28,96,10,"errorData"],[88,37,96,19],[88,38,96,20,"detail"],[88,44,96,26],[88,48,96,30],[88,62,96,44,"response"],[88,70,96,52],[88,71,96,53,"status"],[88,77,96,59],[88,79,97,8],[88,80,97,9],[89,10,98,6],[90,10,100,6],[90,14,100,12,"data"],[90,18,100,41],[90,27,100,50,"response"],[90,35,100,58],[90,36,100,59,"json"],[90,40,100,63],[90,41,100,64],[90,42,100,65],[92,10,102,6],[93,10,103,6],[93,14,103,10,"data"],[93,18,103,14],[93,19,103,15,"is_premium_locked"],[93,36,103,32],[93,38,103,34],[94,12,104,8,"setError"],[94,20,104,16],[94,21,105,10,"data"],[94,25,105,14],[94,26,105,15,"premium_message"],[94,41,105,30],[94,45,106,10],[94,102,107,8],[94,103,107,9],[95,10,108,6],[96,10,110,6,"setResult"],[96,19,110,15],[96,20,110,16,"data"],[96,24,110,20],[96,25,110,21],[97,10,111,6],[97,17,111,13,"data"],[97,21,111,17],[98,8,112,4],[98,9,112,5],[98,10,112,6],[98,17,112,13,"err"],[98,20,112,16],[98,22,112,18],[99,10,113,6],[99,14,113,12,"errorMessage"],[99,26,113,24],[99,29,114,8,"err"],[99,32,114,11],[99,44,114,23,"Error"],[99,49,114,28],[99,52,114,31,"err"],[99,55,114,34],[99,56,114,35,"message"],[99,63,114,42],[99,66,114,45],[99,107,114,86],[100,10,115,6,"setError"],[100,18,115,14],[100,19,115,15,"errorMessage"],[100,31,115,27],[100,32,115,28],[101,10,116,6,"console"],[101,17,116,13],[101,18,116,14,"error"],[101,23,116,19],[101,24,116,20],[101,61,116,57],[101,63,116,59,"errorMessage"],[101,75,116,71],[101,76,116,72],[102,10,118,6],[102,16,118,12,"err"],[102,19,118,15],[103,8,119,4],[103,9,119,5],[103,18,119,14],[104,10,120,6,"setLoading"],[104,20,120,16],[104,21,120,17],[104,26,120,22],[104,27,120,23],[105,8,121,4],[106,6,122,2],[106,7,122,3],[107,6,122,3],[107,22,66,8,"assess"],[107,28,66,14,"assess"],[107,29,66,14,"_x"],[107,31,66,14],[108,8,66,14],[108,15,66,14,"_ref"],[108,19,66,14],[108,20,66,14,"apply"],[108,25,66,14],[108,32,66,14,"arguments"],[108,41,66,14],[109,6,66,14],[110,4,66,14],[110,7,122,3],[111,4,124,2],[111,8,124,8,"clearResult"],[111,19,124,19],[111,22,124,22,"clearResult"],[111,23,124,22],[111,28,124,28],[112,6,125,4,"setResult"],[112,15,125,13],[112,16,125,14],[112,20,125,18],[112,21,125,19],[113,6,126,4,"setError"],[113,14,126,12],[113,15,126,13],[113,19,126,17],[113,20,126,18],[114,4,127,2],[114,5,127,3],[115,4,129,2],[115,11,129,9],[116,6,130,4,"assess"],[116,12,130,10],[117,6,131,4,"loading"],[117,13,131,11],[118,6,132,4,"error"],[118,11,132,9],[119,6,133,4,"result"],[119,12,133,10],[120,6,134,4,"clearResult"],[121,4,135,2],[121,5,135,3],[122,2,136,0],[122,3,136,1],[123,2,136,2,"_s"],[123,4,136,2],[123,5,61,13,"useRoadPassability"],[123,23,61,31],[124,0,61,31],[124,3]],"functionMap":{"names":["<global>","useRoadPassability","assess","clearResult"],"mappings":"AAA;kCC4D;iBCK;GDwD;sBEE;GFG;CDS"},"hasCjsExports":false},"type":"js/module"}]}