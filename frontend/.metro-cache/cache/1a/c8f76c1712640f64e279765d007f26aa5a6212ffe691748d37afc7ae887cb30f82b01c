{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./entitlements","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":92},"end":{"line":7,"column":51,"index":143}}],"key":"TCV4PVJ9w9IttLvA/oNRiZFzZpQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.requirePro = requirePro;\n  exports.isProSync = isProSync;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _entitlements = require(_dependencyMap[1]);\n  /**\n   * Premium Guard\n   * \n   * Helper functions to enforce premium gating across the app.\n   */\n\n  // ðŸ”“ TESTING MODE: Set to true to bypass all premium checks\n  var BYPASS_PREMIUM_FOR_TESTING = true;\n  /**\n   * Check if user has active Pro subscription.\n   * Returns guard result with allowed status.\n   */\n  function requirePro() {\n    return _requirePro.apply(this, arguments);\n  }\n  /**\n   * Check if user is Pro (synchronous version for UI).\n   * WARNING: May not reflect latest state. Use requirePro() for gating logic.\n   */\n  function _requirePro() {\n    _requirePro = (0, _asyncToGenerator.default)(function* () {\n      // ðŸ”“ TESTING BYPASS\n      {\n        return {\n          allowed: true,\n          entitlement: {\n            isPro: true,\n            productId: 'test_bypass',\n            purchaseDate: new Date().toISOString(),\n            expireAt: new Date(Date.now() + 31536000000).toISOString()\n          }\n        };\n      }\n      var cached = yield _entitlements.entitlementsCache.load();\n      if (!cached) {\n        return {\n          allowed: false,\n          reason: 'no_subscription'\n        };\n      }\n      var isValid = _entitlements.entitlementsCache.isValid(cached);\n      if (!isValid) {\n        if (cached.expireAt && new Date(cached.expireAt) < new Date()) {\n          return {\n            allowed: false,\n            reason: 'expired',\n            entitlement: _entitlements.entitlementsCache.toEntitlement(cached)\n          };\n        }\n        return {\n          allowed: false,\n          reason: 'locked',\n          entitlement: _entitlements.entitlementsCache.toEntitlement(cached)\n        };\n      }\n      return {\n        allowed: true,\n        entitlement: _entitlements.entitlementsCache.toEntitlement(cached)\n      };\n    });\n    return _requirePro.apply(this, arguments);\n  }\n  function isProSync(entitlement) {\n    return entitlement?.isPro === true;\n  }\n});","lineCount":82,"map":[[12,2,23,0,"exports"],[12,9,23,0],[12,10,23,0,"requirePro"],[12,20,23,0],[12,23,23,0,"requirePro"],[12,33,23,0],[13,2,74,0,"exports"],[13,9,74,0],[13,10,74,0,"isProSync"],[13,19,74,0],[13,22,74,0,"isProSync"],[13,31,74,0],[14,2,76,1],[14,6,76,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,76,1],[14,45,76,1,"require"],[14,52,76,1],[14,53,76,1,"_dependencyMap"],[14,67,76,1],[15,2,76,1],[15,6,76,1,"_asyncToGenerator"],[15,23,76,1],[15,26,76,1,"_interopDefault"],[15,41,76,1],[15,42,76,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,76,1],[16,2,7,0],[16,6,7,0,"_entitlements"],[16,19,7,0],[16,22,7,0,"require"],[16,29,7,0],[16,30,7,0,"_dependencyMap"],[16,44,7,0],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[23,2,10,0],[24,2,11,0],[24,6,11,6,"BYPASS_PREMIUM_FOR_TESTING"],[24,32,11,32],[24,35,11,35],[24,39,11,39],[25,2,19,0],[26,0,20,0],[27,0,21,0],[28,0,22,0],[29,2,19,0],[29,11,23,22,"requirePro"],[29,21,23,32,"requirePro"],[29,22,23,32],[30,4,23,32],[30,11,23,32,"_requirePro"],[30,22,23,32],[30,23,23,32,"apply"],[30,28,23,32],[30,35,23,32,"arguments"],[30,44,23,32],[31,2,23,32],[32,2,70,0],[33,0,71,0],[34,0,72,0],[35,0,73,0],[36,2,70,0],[36,11,70,0,"_requirePro"],[36,23,70,0],[37,4,70,0,"_requirePro"],[37,15,70,0],[37,22,70,0,"_asyncToGenerator"],[37,39,70,0],[37,40,70,0,"default"],[37,47,70,0],[37,49,23,7],[37,62,23,57],[38,6,24,2],[39,6,25,34],[40,8,26,4],[40,15,26,11],[41,10,27,6,"allowed"],[41,17,27,13],[41,19,27,15],[41,23,27,19],[42,10,28,6,"entitlement"],[42,21,28,17],[42,23,28,19],[43,12,29,8,"isPro"],[43,17,29,13],[43,19,29,15],[43,23,29,19],[44,12,30,8,"productId"],[44,21,30,17],[44,23,30,19],[44,36,30,32],[45,12,31,8,"purchaseDate"],[45,24,31,20],[45,26,31,22],[45,30,31,26,"Date"],[45,34,31,30],[45,35,31,31],[45,36,31,32],[45,37,31,33,"toISOString"],[45,48,31,44],[45,49,31,45],[45,50,31,46],[46,12,32,8,"expireAt"],[46,20,32,16],[46,22,32,18],[46,26,32,22,"Date"],[46,30,32,26],[46,31,32,27,"Date"],[46,35,32,31],[46,36,32,32,"now"],[46,39,32,35],[46,40,32,36],[46,41,32,37],[46,55,32,65],[46,56,32,66],[46,57,32,67,"toISOString"],[46,68,32,78],[46,69,32,79],[47,10,33,6],[48,8,34,4],[48,9,34,5],[49,6,35,2],[50,6,37,2],[50,10,37,8,"cached"],[50,16,37,14],[50,25,37,23,"entitlementsCache"],[50,38,37,40],[50,39,37,40,"entitlementsCache"],[50,56,37,40],[50,57,37,41,"load"],[50,61,37,45],[50,62,37,46],[50,63,37,47],[51,6,39,2],[51,10,39,6],[51,11,39,7,"cached"],[51,17,39,13],[51,19,39,15],[52,8,40,4],[52,15,40,11],[53,10,41,6,"allowed"],[53,17,41,13],[53,19,41,15],[53,24,41,20],[54,10,42,6,"reason"],[54,16,42,12],[54,18,42,14],[55,8,43,4],[55,9,43,5],[56,6,44,2],[57,6,46,2],[57,10,46,8,"isValid"],[57,17,46,15],[57,20,46,18,"entitlementsCache"],[57,33,46,35],[57,34,46,35,"entitlementsCache"],[57,51,46,35],[57,52,46,36,"isValid"],[57,59,46,43],[57,60,46,44,"cached"],[57,66,46,50],[57,67,46,51],[58,6,48,2],[58,10,48,6],[58,11,48,7,"isValid"],[58,18,48,14],[58,20,48,16],[59,8,49,4],[59,12,49,8,"cached"],[59,18,49,14],[59,19,49,15,"expireAt"],[59,27,49,23],[59,31,49,27],[59,35,49,31,"Date"],[59,39,49,35],[59,40,49,36,"cached"],[59,46,49,42],[59,47,49,43,"expireAt"],[59,55,49,51],[59,56,49,52],[59,59,49,55],[59,63,49,59,"Date"],[59,67,49,63],[59,68,49,64],[59,69,49,65],[59,71,49,67],[60,10,50,6],[60,17,50,13],[61,12,51,8,"allowed"],[61,19,51,15],[61,21,51,17],[61,26,51,22],[62,12,52,8,"reason"],[62,18,52,14],[62,20,52,16],[62,29,52,25],[63,12,53,8,"entitlement"],[63,23,53,19],[63,25,53,21,"entitlementsCache"],[63,38,53,38],[63,39,53,38,"entitlementsCache"],[63,56,53,38],[63,57,53,39,"toEntitlement"],[63,70,53,52],[63,71,53,53,"cached"],[63,77,53,59],[64,10,54,6],[64,11,54,7],[65,8,55,4],[66,8,57,4],[66,15,57,11],[67,10,58,6,"allowed"],[67,17,58,13],[67,19,58,15],[67,24,58,20],[68,10,59,6,"reason"],[68,16,59,12],[68,18,59,14],[68,26,59,22],[69,10,60,6,"entitlement"],[69,21,60,17],[69,23,60,19,"entitlementsCache"],[69,36,60,36],[69,37,60,36,"entitlementsCache"],[69,54,60,36],[69,55,60,37,"toEntitlement"],[69,68,60,50],[69,69,60,51,"cached"],[69,75,60,57],[70,8,61,4],[70,9,61,5],[71,6,62,2],[72,6,64,2],[72,13,64,9],[73,8,65,4,"allowed"],[73,15,65,11],[73,17,65,13],[73,21,65,17],[74,8,66,4,"entitlement"],[74,19,66,15],[74,21,66,17,"entitlementsCache"],[74,34,66,34],[74,35,66,34,"entitlementsCache"],[74,52,66,34],[74,53,66,35,"toEntitlement"],[74,66,66,48],[74,67,66,49,"cached"],[74,73,66,55],[75,6,67,2],[75,7,67,3],[76,4,68,0],[76,5,68,1],[77,4,68,1],[77,11,68,1,"_requirePro"],[77,22,68,1],[77,23,68,1,"apply"],[77,28,68,1],[77,35,68,1,"arguments"],[77,44,68,1],[78,2,68,1],[79,2,74,7],[79,11,74,16,"isProSync"],[79,20,74,25,"isProSync"],[79,21,74,26,"entitlement"],[79,32,74,57],[79,34,74,68],[80,4,75,2],[80,11,75,9,"entitlement"],[80,22,75,20],[80,24,75,22,"isPro"],[80,29,75,27],[80,34,75,32],[80,38,75,36],[81,2,76,0],[82,0,76,1],[82,3]],"functionMap":{"names":["<global>","requirePro","isProSync"],"mappings":"AAA;OCsB;CD6C;OEM;CFE"},"hasCjsExports":false},"type":"js/module"}]}